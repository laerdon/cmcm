
<!DOCTYPE html>
<html>
<head>
    <title>Partition 3 - Cycle Viewer</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
        }
        .control-panel {
            position: absolute;
            top: 10px;
            right: 10px;
            background: white;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            z-index: 1000;
            width: 320px;
        }
        .control-panel h3 {
            margin: 0 0 15px 0;
            font-size: 16px;
        }
        .cycle-selector {
            width: 100%;
            padding: 8px;
            font-size: 14px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
        .nav-buttons {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
        }
        .nav-button {
            flex: 1;
            padding: 8px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 14px;
        }
        .nav-button:hover {
            background: #0056b3;
        }
        .nav-button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        .stats-box {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 3px;
            font-size: 13px;
        }
        .stats-box table {
            width: 100%;
            border-collapse: collapse;
        }
        .stats-box td {
            padding: 4px 0;
        }
        .stats-box .label {
            font-weight: bold;
        }
        .stats-box .value {
            text-align: right;
        }
        .color-indicator {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 3px;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div class="control-panel">
        <h3>Partition 3 - Cycle Viewer</h3>
        
        <select id="cycleSelector" class="cycle-selector">
            <!-- Options filled by JS -->
        </select>
        
        <div class="nav-buttons">
            <button id="prevBtn" class="nav-button">← Previous</button>
            <button id="nextBtn" class="nav-button">Next →</button>
        </div>
        
        <div id="statsBox" class="stats-box">
            <!-- Stats filled by JS -->
        </div>
    </div>

    <script>
        // Cycle data
        const cycles = [{"id": "cycle_0", "rank": 1, "method": "greedy", "benefit": 24988.794582797836, "time": 0.0686323620921146, "color": "#00ff00", "paths": [{"coords": [[42.454728064542124, -76.51364357071164], [42.454808000850335, -76.51338547578123]], "name": "COVE LA", "priority": 0.1985}, {"coords": [[42.454728064542124, -76.51364357071164], [42.454808000850335, -76.51338547578123]], "name": "COVE LA", "priority": 0.1985}]}, {"id": "cycle_1", "rank": 2, "method": "greedy", "benefit": 17666.815713758977, "time": 0.19415383082682564, "color": "#38ff00", "paths": [{"coords": [[42.454728064542124, -76.51364357071164], [42.45486222837589, -76.51371869220878], [42.45490270490812, -76.51372073241421], [42.4549390491336, -76.51369614225726], [42.45500891202212, -76.51351309836643]], "name": "COVE LA", "priority": 0.1985}, {"coords": [[42.454728064542124, -76.51364357071164], [42.454808000850335, -76.51338547578123]], "name": "COVE LA", "priority": 0.1985}, {"coords": [[42.454728064542124, -76.51364357071164], [42.454808000850335, -76.51338547578123]], "name": "COVE LA", "priority": 0.1985}, {"coords": [[42.454728064542124, -76.51364357071164], [42.45486222837589, -76.51371869220878], [42.45490270490812, -76.51372073241421], [42.4549390491336, -76.51369614225726], [42.45500891202212, -76.51351309836643]], "name": "COVE LA", "priority": 0.1985}]}, {"id": "cycle_2", "rank": 3, "method": "greedy", "benefit": 17666.815713758977, "time": 0.19415383082682564, "color": "#71ff00", "paths": [{"coords": [[42.454728064542124, -76.51364357071164], [42.45486222837589, -76.51371869220878], [42.45490270490812, -76.51372073241421], [42.4549390491336, -76.51369614225726], [42.45500891202212, -76.51351309836643]], "name": "COVE LA", "priority": 0.1985}, {"coords": [[42.454728064542124, -76.51364357071164], [42.454808000850335, -76.51338547578123]], "name": "COVE LA", "priority": 0.1985}, {"coords": [[42.454728064542124, -76.51364357071164], [42.454808000850335, -76.51338547578123]], "name": "COVE LA", "priority": 0.1985}, {"coords": [[42.454728064542124, -76.51364357071164], [42.45486222837589, -76.51371869220878], [42.45490270490812, -76.51372073241421], [42.4549390491336, -76.51369614225726], [42.45500891202212, -76.51351309836643]], "name": "COVE LA", "priority": 0.1985}]}, {"id": "cycle_3", "rank": 4, "method": "greedy", "benefit": 12793.965120346305, "time": 0.1668036426243398, "color": "#aaff00", "paths": [{"coords": [[42.43952491902646, -76.51226002495488], [42.439567085764686, -76.51222177277452], [42.43961731597395, -76.51218860422729], [42.43963822904818, -76.5121714461258], [42.43970579256412, -76.51215562449595], [42.439766505516296, -76.5121539355625], [42.4398340865692, -76.51216636262751], [42.439904071718935, -76.5121836488894], [42.44000459538647, -76.51221780425297]], "name": "TAUGHANNOCK BLVD", "priority": 0.247}, {"coords": [[42.43952491902646, -76.51226002495488], [42.439567085764686, -76.51222177277452], [42.43961731597395, -76.51218860422729], [42.43963822904818, -76.5121714461258], [42.43970579256412, -76.51215562449595], [42.439766505516296, -76.5121539355625], [42.4398340865692, -76.51216636262751], [42.439904071718935, -76.5121836488894], [42.44000459538647, -76.51221780425297]], "name": "TAUGHANNOCK BLVD", "priority": 0.247}]}, {"id": "cycle_4", "rank": 5, "method": "greedy", "benefit": 8175.299828544688, "time": 0.6066271625077772, "color": "#e2ff00", "paths": [{"coords": [[42.443166355850785, -76.51347637647173], [42.44354530439476, -76.51387177395922], [42.44360317479299, -76.51391712640716], [42.4437006095559, -76.51398646298844], [42.443872690376324, -76.51408131093666], [42.44398165143159, -76.5141207291776], [42.44406429929651, -76.51414769398725], [42.44423290967925, -76.5141803904851]], "name": "TAUGHANNOCK BLVD", "priority": 0.295}, {"coords": [[42.443166355850785, -76.51347637647173], [42.44354530439476, -76.51387177395922], [42.44360317479299, -76.51391712640716], [42.4437006095559, -76.51398646298844], [42.443872690376324, -76.51408131093666], [42.44398165143159, -76.5141207291776], [42.44406429929651, -76.51414769398725], [42.44423290967925, -76.5141803904851]], "name": "TAUGHANNOCK BLVD", "priority": 0.295}, {"coords": [[42.44268747209513, -76.51294240018737], [42.442773554017826, -76.51303693754839], [42.44286876549794, -76.51314432163554], [42.442910681158715, -76.51318961292922], [42.443166355850785, -76.51347637647173]], "name": "TAUGHANNOCK BLVD", "priority": 0.279}, {"coords": [[42.44268747209513, -76.51294240018737], [42.442773554017826, -76.51303693754839], [42.44286876549794, -76.51314432163554], [42.442910681158715, -76.51318961292922], [42.443166355850785, -76.51347637647173]], "name": "TAUGHANNOCK BLVD", "priority": 0.279}]}, {"id": "cycle_5", "rank": 6, "method": "greedy", "benefit": 6787.941603618518, "time": 2.3687586313715188, "color": "#ffe200", "paths": [{"coords": [[42.43952491902646, -76.51226002495488], [42.439567085764686, -76.51222177277452], [42.43961731597395, -76.51218860422729], [42.43963822904818, -76.5121714461258], [42.43970579256412, -76.51215562449595], [42.439766505516296, -76.5121539355625], [42.4398340865692, -76.51216636262751], [42.439904071718935, -76.5121836488894], [42.44000459538647, -76.51221780425297]], "name": "TAUGHANNOCK BLVD", "priority": 0.247}, {"coords": [[42.43952491902646, -76.51226002495488], [42.439567085764686, -76.51222177277452], [42.43961731597395, -76.51218860422729], [42.43963822904818, -76.5121714461258], [42.43970579256412, -76.51215562449595], [42.439766505516296, -76.5121539355625], [42.4398340865692, -76.51216636262751], [42.439904071718935, -76.5121836488894], [42.44000459538647, -76.51221780425297]], "name": "TAUGHANNOCK BLVD", "priority": 0.247}, {"coords": [[42.44000459538647, -76.51221780425297], [42.440899515827944, -76.51249534895963]], "name": "TAUGHANNOCK BLVD", "priority": 0.2309999999999999}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44090357675771, -76.51268452232388], [42.44088763026126, -76.51324836909163], [42.4408842865551, -76.51338984995043], [42.44088200919793, -76.51359292342444], [42.440885712799165, -76.51376148854378], [42.440898508232046, -76.51393305442245], [42.44091178932711, -76.51402823710191], [42.44093362390439, -76.51414558099063], [42.440952984540196, -76.51422439412448]], "name": "W BUFFALO ST", "priority": 0.257}, {"coords": [[42.440952984540196, -76.51422439412448], [42.44101934821361, -76.51440290402225], [42.44115650503526, -76.51472827101335], [42.44139472348146, -76.5150568613868]], "name": "W BUFFALO ST BRIDGE", "priority": 0.321}, {"coords": [[42.440952984540196, -76.51422439412448], [42.44101934821361, -76.51440290402225], [42.44115650503526, -76.51472827101335], [42.44139472348146, -76.5150568613868]], "name": "W BUFFALO ST BRIDGE", "priority": 0.321}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44090357675771, -76.51268452232388], [42.44088763026126, -76.51324836909163], [42.4408842865551, -76.51338984995043], [42.44088200919793, -76.51359292342444], [42.440885712799165, -76.51376148854378], [42.440898508232046, -76.51393305442245], [42.44091178932711, -76.51402823710191], [42.44093362390439, -76.51414558099063], [42.440952984540196, -76.51422439412448]], "name": "W BUFFALO ST", "priority": 0.257}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44105902449919, -76.51250859929154], [42.44132042307851, -76.51254535334199], [42.44154236297539, -76.51256362902045], [42.44183170635696, -76.51258391116245], [42.44193924548556, -76.51259119993816], [42.442059309795866, -76.51260773686855], [42.44216257786465, -76.51264119693113], [42.44233498050479, -76.51270560677527], [42.44243431400938, -76.5127562067676], [42.44259148396142, -76.51286949350714], [42.44268747209513, -76.51294240018737]], "name": "TAUGHANNOCK BLVD", "priority": 0.2309999999999999}, {"coords": [[42.44268747209513, -76.51294240018737], [42.442773554017826, -76.51303693754839], [42.44286876549794, -76.51314432163554], [42.442910681158715, -76.51318961292922], [42.443166355850785, -76.51347637647173]], "name": "TAUGHANNOCK BLVD", "priority": 0.279}, {"coords": [[42.443166355850785, -76.51347637647173], [42.44354530439476, -76.51387177395922], [42.44360317479299, -76.51391712640716], [42.4437006095559, -76.51398646298844], [42.443872690376324, -76.51408131093666], [42.44398165143159, -76.5141207291776], [42.44406429929651, -76.51414769398725], [42.44423290967925, -76.5141803904851]], "name": "TAUGHANNOCK BLVD", "priority": 0.295}, {"coords": [[42.443166355850785, -76.51347637647173], [42.44354530439476, -76.51387177395922], [42.44360317479299, -76.51391712640716], [42.4437006095559, -76.51398646298844], [42.443872690376324, -76.51408131093666], [42.44398165143159, -76.5141207291776], [42.44406429929651, -76.51414769398725], [42.44423290967925, -76.5141803904851]], "name": "TAUGHANNOCK BLVD", "priority": 0.295}, {"coords": [[42.44268747209513, -76.51294240018737], [42.442773554017826, -76.51303693754839], [42.44286876549794, -76.51314432163554], [42.442910681158715, -76.51318961292922], [42.443166355850785, -76.51347637647173]], "name": "TAUGHANNOCK BLVD", "priority": 0.279}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44105902449919, -76.51250859929154], [42.44132042307851, -76.51254535334199], [42.44154236297539, -76.51256362902045], [42.44183170635696, -76.51258391116245], [42.44193924548556, -76.51259119993816], [42.442059309795866, -76.51260773686855], [42.44216257786465, -76.51264119693113], [42.44233498050479, -76.51270560677527], [42.44243431400938, -76.5127562067676], [42.44259148396142, -76.51286949350714], [42.44268747209513, -76.51294240018737]], "name": "TAUGHANNOCK BLVD", "priority": 0.2309999999999999}, {"coords": [[42.44000459538647, -76.51221780425297], [42.440899515827944, -76.51249534895963]], "name": "TAUGHANNOCK BLVD", "priority": 0.2309999999999999}]}, {"id": "cycle_6", "rank": 7, "method": "greedy", "benefit": 4720.255504087082, "time": 2.894784967469861, "color": "#ffaa00", "paths": [{"coords": [[42.44268747209513, -76.51294240018737], [42.442773554017826, -76.51303693754839], [42.44286876549794, -76.51314432163554], [42.442910681158715, -76.51318961292922], [42.443166355850785, -76.51347637647173]], "name": "TAUGHANNOCK BLVD", "priority": 0.279}, {"coords": [[42.443166355850785, -76.51347637647173], [42.44354530439476, -76.51387177395922], [42.44360317479299, -76.51391712640716], [42.4437006095559, -76.51398646298844], [42.443872690376324, -76.51408131093666], [42.44398165143159, -76.5141207291776], [42.44406429929651, -76.51414769398725], [42.44423290967925, -76.5141803904851]], "name": "TAUGHANNOCK BLVD", "priority": 0.295}, {"coords": [[42.443166355850785, -76.51347637647173], [42.44354530439476, -76.51387177395922], [42.44360317479299, -76.51391712640716], [42.4437006095559, -76.51398646298844], [42.443872690376324, -76.51408131093666], [42.44398165143159, -76.5141207291776], [42.44406429929651, -76.51414769398725], [42.44423290967925, -76.5141803904851]], "name": "TAUGHANNOCK BLVD", "priority": 0.295}, {"coords": [[42.44268747209513, -76.51294240018737], [42.442773554017826, -76.51303693754839], [42.44286876549794, -76.51314432163554], [42.442910681158715, -76.51318961292922], [42.443166355850785, -76.51347637647173]], "name": "TAUGHANNOCK BLVD", "priority": 0.279}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44105902449919, -76.51250859929154], [42.44132042307851, -76.51254535334199], [42.44154236297539, -76.51256362902045], [42.44183170635696, -76.51258391116245], [42.44193924548556, -76.51259119993816], [42.442059309795866, -76.51260773686855], [42.44216257786465, -76.51264119693113], [42.44233498050479, -76.51270560677527], [42.44243431400938, -76.5127562067676], [42.44259148396142, -76.51286949350714], [42.44268747209513, -76.51294240018737]], "name": "TAUGHANNOCK BLVD", "priority": 0.2309999999999999}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44090357675771, -76.51268452232388], [42.44088763026126, -76.51324836909163], [42.4408842865551, -76.51338984995043], [42.44088200919793, -76.51359292342444], [42.440885712799165, -76.51376148854378], [42.440898508232046, -76.51393305442245], [42.44091178932711, -76.51402823710191], [42.44093362390439, -76.51414558099063], [42.440952984540196, -76.51422439412448]], "name": "W BUFFALO ST", "priority": 0.257}, {"coords": [[42.440952984540196, -76.51422439412448], [42.44101934821361, -76.51440290402225], [42.44115650503526, -76.51472827101335], [42.44139472348146, -76.5150568613868]], "name": "W BUFFALO ST BRIDGE", "priority": 0.321}, {"coords": [[42.440952984540196, -76.51422439412448], [42.44101934821361, -76.51440290402225], [42.44115650503526, -76.51472827101335], [42.44139472348146, -76.5150568613868]], "name": "W BUFFALO ST BRIDGE", "priority": 0.321}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44090357675771, -76.51268452232388], [42.44088763026126, -76.51324836909163], [42.4408842865551, -76.51338984995043], [42.44088200919793, -76.51359292342444], [42.440885712799165, -76.51376148854378], [42.440898508232046, -76.51393305442245], [42.44091178932711, -76.51402823710191], [42.44093362390439, -76.51414558099063], [42.440952984540196, -76.51422439412448]], "name": "W BUFFALO ST", "priority": 0.257}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44105902449919, -76.51250859929154], [42.44132042307851, -76.51254535334199], [42.44154236297539, -76.51256362902045], [42.44183170635696, -76.51258391116245], [42.44193924548556, -76.51259119993816], [42.442059309795866, -76.51260773686855], [42.44216257786465, -76.51264119693113], [42.44233498050479, -76.51270560677527], [42.44243431400938, -76.5127562067676], [42.44259148396142, -76.51286949350714], [42.44268747209513, -76.51294240018737]], "name": "TAUGHANNOCK BLVD", "priority": 0.2309999999999999}, {"coords": [[42.44268747209513, -76.51294240018737], [42.44285645944259, -76.51265939253827], [42.4429325341532, -76.51258632290738], [42.44299553571201, -76.51254832012756], [42.443134536789714, -76.51253135402875], [42.444335477501895, -76.51254930854297], [42.44475946656526, -76.51254889204196], [42.4449512115559, -76.51254553516064], [42.4450744720094, -76.51254337733268], [42.44557273901382, -76.51253315614588]], "name": "TAUGHANNOCK BLVD", "priority": 0.1985}, {"coords": [[42.44268747209513, -76.51294240018737], [42.44285645944259, -76.51265939253827], [42.4429325341532, -76.51258632290738], [42.44299553571201, -76.51254832012756], [42.443134536789714, -76.51253135402875], [42.444335477501895, -76.51254930854297], [42.44475946656526, -76.51254889204196], [42.4449512115559, -76.51254553516064], [42.4450744720094, -76.51254337733268], [42.44557273901382, -76.51253315614588]], "name": "TAUGHANNOCK BLVD", "priority": 0.1985}]}, {"id": "cycle_7", "rank": 8, "method": "greedy", "benefit": 4720.249497505472, "time": 2.894784967469861, "color": "#ff7100", "paths": [{"coords": [[42.44268747209513, -76.51294240018737], [42.44285645944259, -76.51265939253827], [42.4429325341532, -76.51258632290738], [42.44299553571201, -76.51254832012756], [42.443134536789714, -76.51253135402875], [42.444335477501895, -76.51254930854297], [42.44475946656526, -76.51254889204196], [42.4449512115559, -76.51254553516064], [42.4450744720094, -76.51254337733268], [42.44557273901382, -76.51253315614588]], "name": "TAUGHANNOCK BLVD", "priority": 0.1985}, {"coords": [[42.44268747209513, -76.51294240018737], [42.442773554017826, -76.51303693754839], [42.44286876549794, -76.51314432163554], [42.442910681158715, -76.51318961292922], [42.443166355850785, -76.51347637647173]], "name": "TAUGHANNOCK BLVD", "priority": 0.279}, {"coords": [[42.443166355850785, -76.51347637647173], [42.44354530439476, -76.51387177395922], [42.44360317479299, -76.51391712640716], [42.4437006095559, -76.51398646298844], [42.443872690376324, -76.51408131093666], [42.44398165143159, -76.5141207291776], [42.44406429929651, -76.51414769398725], [42.44423290967925, -76.5141803904851]], "name": "TAUGHANNOCK BLVD", "priority": 0.295}, {"coords": [[42.443166355850785, -76.51347637647173], [42.44354530439476, -76.51387177395922], [42.44360317479299, -76.51391712640716], [42.4437006095559, -76.51398646298844], [42.443872690376324, -76.51408131093666], [42.44398165143159, -76.5141207291776], [42.44406429929651, -76.51414769398725], [42.44423290967925, -76.5141803904851]], "name": "TAUGHANNOCK BLVD", "priority": 0.295}, {"coords": [[42.44268747209513, -76.51294240018737], [42.442773554017826, -76.51303693754839], [42.44286876549794, -76.51314432163554], [42.442910681158715, -76.51318961292922], [42.443166355850785, -76.51347637647173]], "name": "TAUGHANNOCK BLVD", "priority": 0.279}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44105902449919, -76.51250859929154], [42.44132042307851, -76.51254535334199], [42.44154236297539, -76.51256362902045], [42.44183170635696, -76.51258391116245], [42.44193924548556, -76.51259119993816], [42.442059309795866, -76.51260773686855], [42.44216257786465, -76.51264119693113], [42.44233498050479, -76.51270560677527], [42.44243431400938, -76.5127562067676], [42.44259148396142, -76.51286949350714], [42.44268747209513, -76.51294240018737]], "name": "TAUGHANNOCK BLVD", "priority": 0.2309999999999999}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44090357675771, -76.51268452232388], [42.44088763026126, -76.51324836909163], [42.4408842865551, -76.51338984995043], [42.44088200919793, -76.51359292342444], [42.440885712799165, -76.51376148854378], [42.440898508232046, -76.51393305442245], [42.44091178932711, -76.51402823710191], [42.44093362390439, -76.51414558099063], [42.440952984540196, -76.51422439412448]], "name": "W BUFFALO ST", "priority": 0.257}, {"coords": [[42.440952984540196, -76.51422439412448], [42.44101934821361, -76.51440290402225], [42.44115650503526, -76.51472827101335], [42.44139472348146, -76.5150568613868]], "name": "W BUFFALO ST BRIDGE", "priority": 0.321}, {"coords": [[42.440952984540196, -76.51422439412448], [42.44101934821361, -76.51440290402225], [42.44115650503526, -76.51472827101335], [42.44139472348146, -76.5150568613868]], "name": "W BUFFALO ST BRIDGE", "priority": 0.321}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44090357675771, -76.51268452232388], [42.44088763026126, -76.51324836909163], [42.4408842865551, -76.51338984995043], [42.44088200919793, -76.51359292342444], [42.440885712799165, -76.51376148854378], [42.440898508232046, -76.51393305442245], [42.44091178932711, -76.51402823710191], [42.44093362390439, -76.51414558099063], [42.440952984540196, -76.51422439412448]], "name": "W BUFFALO ST", "priority": 0.257}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44105902449919, -76.51250859929154], [42.44132042307851, -76.51254535334199], [42.44154236297539, -76.51256362902045], [42.44183170635696, -76.51258391116245], [42.44193924548556, -76.51259119993816], [42.442059309795866, -76.51260773686855], [42.44216257786465, -76.51264119693113], [42.44233498050479, -76.51270560677527], [42.44243431400938, -76.5127562067676], [42.44259148396142, -76.51286949350714], [42.44268747209513, -76.51294240018737]], "name": "TAUGHANNOCK BLVD", "priority": 0.2309999999999999}, {"coords": [[42.44268747209513, -76.51294240018737], [42.44285645944259, -76.51265939253827], [42.4429325341532, -76.51258632290738], [42.44299553571201, -76.51254832012756], [42.443134536789714, -76.51253135402875], [42.444335477501895, -76.51254930854297], [42.44475946656526, -76.51254889204196], [42.4449512115559, -76.51254553516064], [42.4450744720094, -76.51254337733268], [42.44557273901382, -76.51253315614588]], "name": "TAUGHANNOCK BLVD", "priority": 0.1985}]}, {"id": "cycle_8", "rank": 9, "method": "greedy", "benefit": 4720.249497505472, "time": 2.894784967469861, "color": "#ff3800", "paths": [{"coords": [[42.44268747209513, -76.51294240018737], [42.44285645944259, -76.51265939253827], [42.4429325341532, -76.51258632290738], [42.44299553571201, -76.51254832012756], [42.443134536789714, -76.51253135402875], [42.444335477501895, -76.51254930854297], [42.44475946656526, -76.51254889204196], [42.4449512115559, -76.51254553516064], [42.4450744720094, -76.51254337733268], [42.44557273901382, -76.51253315614588]], "name": "TAUGHANNOCK BLVD", "priority": 0.1985}, {"coords": [[42.44268747209513, -76.51294240018737], [42.442773554017826, -76.51303693754839], [42.44286876549794, -76.51314432163554], [42.442910681158715, -76.51318961292922], [42.443166355850785, -76.51347637647173]], "name": "TAUGHANNOCK BLVD", "priority": 0.279}, {"coords": [[42.443166355850785, -76.51347637647173], [42.44354530439476, -76.51387177395922], [42.44360317479299, -76.51391712640716], [42.4437006095559, -76.51398646298844], [42.443872690376324, -76.51408131093666], [42.44398165143159, -76.5141207291776], [42.44406429929651, -76.51414769398725], [42.44423290967925, -76.5141803904851]], "name": "TAUGHANNOCK BLVD", "priority": 0.295}, {"coords": [[42.443166355850785, -76.51347637647173], [42.44354530439476, -76.51387177395922], [42.44360317479299, -76.51391712640716], [42.4437006095559, -76.51398646298844], [42.443872690376324, -76.51408131093666], [42.44398165143159, -76.5141207291776], [42.44406429929651, -76.51414769398725], [42.44423290967925, -76.5141803904851]], "name": "TAUGHANNOCK BLVD", "priority": 0.295}, {"coords": [[42.44268747209513, -76.51294240018737], [42.442773554017826, -76.51303693754839], [42.44286876549794, -76.51314432163554], [42.442910681158715, -76.51318961292922], [42.443166355850785, -76.51347637647173]], "name": "TAUGHANNOCK BLVD", "priority": 0.279}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44105902449919, -76.51250859929154], [42.44132042307851, -76.51254535334199], [42.44154236297539, -76.51256362902045], [42.44183170635696, -76.51258391116245], [42.44193924548556, -76.51259119993816], [42.442059309795866, -76.51260773686855], [42.44216257786465, -76.51264119693113], [42.44233498050479, -76.51270560677527], [42.44243431400938, -76.5127562067676], [42.44259148396142, -76.51286949350714], [42.44268747209513, -76.51294240018737]], "name": "TAUGHANNOCK BLVD", "priority": 0.2309999999999999}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44090357675771, -76.51268452232388], [42.44088763026126, -76.51324836909163], [42.4408842865551, -76.51338984995043], [42.44088200919793, -76.51359292342444], [42.440885712799165, -76.51376148854378], [42.440898508232046, -76.51393305442245], [42.44091178932711, -76.51402823710191], [42.44093362390439, -76.51414558099063], [42.440952984540196, -76.51422439412448]], "name": "W BUFFALO ST", "priority": 0.257}, {"coords": [[42.440952984540196, -76.51422439412448], [42.44101934821361, -76.51440290402225], [42.44115650503526, -76.51472827101335], [42.44139472348146, -76.5150568613868]], "name": "W BUFFALO ST BRIDGE", "priority": 0.321}, {"coords": [[42.440952984540196, -76.51422439412448], [42.44101934821361, -76.51440290402225], [42.44115650503526, -76.51472827101335], [42.44139472348146, -76.5150568613868]], "name": "W BUFFALO ST BRIDGE", "priority": 0.321}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44090357675771, -76.51268452232388], [42.44088763026126, -76.51324836909163], [42.4408842865551, -76.51338984995043], [42.44088200919793, -76.51359292342444], [42.440885712799165, -76.51376148854378], [42.440898508232046, -76.51393305442245], [42.44091178932711, -76.51402823710191], [42.44093362390439, -76.51414558099063], [42.440952984540196, -76.51422439412448]], "name": "W BUFFALO ST", "priority": 0.257}, {"coords": [[42.440899515827944, -76.51249534895963], [42.44105902449919, -76.51250859929154], [42.44132042307851, -76.51254535334199], [42.44154236297539, -76.51256362902045], [42.44183170635696, -76.51258391116245], [42.44193924548556, -76.51259119993816], [42.442059309795866, -76.51260773686855], [42.44216257786465, -76.51264119693113], [42.44233498050479, -76.51270560677527], [42.44243431400938, -76.5127562067676], [42.44259148396142, -76.51286949350714], [42.44268747209513, -76.51294240018737]], "name": "TAUGHANNOCK BLVD", "priority": 0.2309999999999999}, {"coords": [[42.44268747209513, -76.51294240018737], [42.44285645944259, -76.51265939253827], [42.4429325341532, -76.51258632290738], [42.44299553571201, -76.51254832012756], [42.443134536789714, -76.51253135402875], [42.444335477501895, -76.51254930854297], [42.44475946656526, -76.51254889204196], [42.4449512115559, -76.51254553516064], [42.4450744720094, -76.51254337733268], [42.44557273901382, -76.51253315614588]], "name": "TAUGHANNOCK BLVD", "priority": 0.1985}]}, {"id": "cycle_9", "rank": 10, "method": "greedy", "benefit": 3176.402145123942, "time": 2.985242017874785, "color": "#ff0000", "paths": [{"coords": [[42.4417014453177, -76.51527032274338], [42.44171172232507, -76.51524785025755], [42.441749053879676, -76.51515240946254], [42.4417655378747, -76.51511394748701], [42.44178390074607, -76.51507847117291], [42.44179855739995, -76.51504954559513], [42.44183745750702, -76.51499555051784], [42.44187968010879, -76.51494983546603], [42.44192298776491, -76.51490901282178], [42.441970892458706, -76.51486995733357], [42.44203389483494, -76.51482601112995], [42.44210707701726, -76.51478692917253], [42.44217694216222, -76.51475931306209], [42.44225903354513, -76.51473364175244], [42.442445675693016, -76.51468795940792], [42.44263372250806, -76.51464417026115], [42.442781776353975, -76.5146136884073], [42.443319502332706, -76.51452333568821], [42.44370845717067, -76.5144894181317], [42.443842517361, -76.51451234612311], [42.4439954684155, -76.51459834796702]], "name": "PARK RD", "priority": 0.2145}, {"coords": [[42.4417014453177, -76.51527032274338], [42.44174039729126, -76.51530804398949], [42.441792346469605, -76.51534371282234], [42.44182582350165, -76.51535674457382], [42.44192961954759, -76.51539071532525], [42.442024818318366, -76.5154119167785], [42.442199948225955, -76.51544900753073], [42.442301776802175, -76.51546879200643], [42.442424475197505, -76.51549183472221], [42.44275672595808, -76.5155653439028], [42.44298571392902, -76.51561140890618], [42.44310252386716, -76.51563513432562], [42.44318331177384, -76.51565056123817], [42.44328211150839, -76.51567152624719], [42.443385371150875, -76.51569225678757], [42.4434392309132, -76.51570400783271], [42.44350218084589, -76.51571713848791], [42.44358742974178, -76.51573418355842], [42.443668389584225, -76.51574961053153], [42.444220704807925, -76.51585947327752], [42.44429720384162, -76.51587212658735], [42.44435552299822, -76.51588433751593], [42.44442739187764, -76.51589861740554], [42.44443545391232, -76.51589999814496], [42.4444649713549, -76.5159053380535], [42.44449017053268, -76.51590989612907], [42.44455311838823, -76.51591955434887], [42.44461606700683, -76.51592898163004], [42.44468347422706, -76.51593747789089], [42.444728411300936, -76.51594182885965], [42.44477334878301, -76.51594687513841], [42.44484092583027, -76.51595328655833], [42.44489941311791, -76.51595901364138], [42.444957899231525, -76.51596427638833], [42.445173667051655, -76.51598581250688], [42.44530402087701, -76.51600188260878], [42.44535804906178, -76.51600923491844], [42.44541190913054, -76.51602006154559], [42.445470226356036, -76.5160290296607], [42.445510705632856, -76.51603570120157], [42.44557811574039, -76.51605068160903], [42.44564089708657, -76.51606659327487], [42.44571259799617, -76.51608619931964], [42.44575753926761, -76.5160977297097], [42.44600420980795, -76.51617342089916], [42.44608946271708, -76.51619903475115], [42.446134235223525, -76.51621450156085], [42.44617900642087, -76.51622927428987], [42.44620559526008, -76.51623781463839], [42.4462062075739, -76.51623801091131], [42.44623287025618, -76.51624658522503], [42.4462956526999, -76.51626597020834], [42.44636289455694, -76.51628581361766], [42.44661848612813, -76.51636798079149], [42.44684715232801, -76.51644971412735], [42.447026070991264, -76.51651598607737]], "name": "CLIFF ST", "priority": 0.289}, {"coords": [[42.4417014453177, -76.51527032274338], [42.44174039729126, -76.51530804398949], [42.441792346469605, -76.51534371282234], [42.44182582350165, -76.51535674457382], [42.44192961954759, -76.51539071532525], [42.442024818318366, -76.5154119167785], [42.442199948225955, -76.51544900753073], [42.442301776802175, -76.51546879200643], [42.442424475197505, -76.51549183472221], [42.44275672595808, -76.5155653439028], [42.44298571392902, -76.51561140890618], [42.44310252386716, -76.51563513432562], [42.44318331177384, -76.51565056123817], [42.44328211150839, -76.51567152624719], [42.443385371150875, -76.51569225678757], [42.4434392309132, -76.51570400783271], [42.44350218084589, -76.51571713848791], [42.44358742974178, -76.51573418355842], [42.443668389584225, -76.51574961053153], [42.444220704807925, -76.51585947327752], [42.44429720384162, -76.51587212658735], [42.44435552299822, -76.51588433751593], [42.44442739187764, -76.51589861740554], [42.44443545391232, -76.51589999814496], [42.4444649713549, -76.5159053380535], [42.44449017053268, -76.51590989612907], [42.44455311838823, -76.51591955434887], [42.44461606700683, -76.51592898163004], [42.44468347422706, -76.51593747789089], [42.444728411300936, -76.51594182885965], [42.44477334878301, -76.51594687513841], [42.44484092583027, -76.51595328655833], [42.44489941311791, -76.51595901364138], [42.444957899231525, -76.51596427638833], [42.445173667051655, -76.51598581250688], [42.44530402087701, -76.51600188260878], [42.44535804906178, -76.51600923491844], [42.44541190913054, -76.51602006154559], [42.445470226356036, -76.5160290296607], [42.445510705632856, -76.51603570120157], [42.44557811574039, -76.51605068160903], [42.44564089708657, -76.51606659327487], [42.44571259799617, -76.51608619931964], [42.44575753926761, -76.5160977297097], [42.44600420980795, -76.51617342089916], [42.44608946271708, -76.51619903475115], [42.446134235223525, -76.51621450156085], [42.44617900642087, -76.51622927428987], [42.44620559526008, -76.51623781463839], [42.4462062075739, -76.51623801091131], [42.44623287025618, -76.51624658522503], [42.4462956526999, -76.51626597020834], [42.44636289455694, -76.51628581361766], [42.44661848612813, -76.51636798079149], [42.44684715232801, -76.51644971412735], [42.447026070991264, -76.51651598607737]], "name": "CLIFF ST", "priority": 0.289}, {"coords": [[42.44139472348146, -76.5150568613868], [42.441500263238694, -76.51515697964533], [42.441540106136046, -76.51518644646211], [42.4417014453177, -76.51527032274338]], "name": "W BUFFALO ST", "priority": 0.273}, {"coords": [[42.440952984540196, -76.51422439412448], [42.44101934821361, -76.51440290402225], [42.44115650503526, -76.51472827101335], [42.44139472348146, -76.5150568613868]], "name": "W BUFFALO ST BRIDGE", "priority": 0.321}, {"coords": [[42.440952984540196, -76.51422439412448], [42.44101934821361, -76.51440290402225], [42.44115650503526, -76.51472827101335], [42.44139472348146, -76.5150568613868]], "name": "W BUFFALO ST BRIDGE", "priority": 0.321}, {"coords": [[42.44139472348146, -76.5150568613868], [42.441500263238694, -76.51515697964533], [42.441540106136046, -76.51518644646211], [42.4417014453177, -76.51527032274338]], "name": "W BUFFALO ST", "priority": 0.273}, {"coords": [[42.4417014453177, -76.51527032274338], [42.44171172232507, -76.51524785025755], [42.441749053879676, -76.51515240946254], [42.4417655378747, -76.51511394748701], [42.44178390074607, -76.51507847117291], [42.44179855739995, -76.51504954559513], [42.44183745750702, -76.51499555051784], [42.44187968010879, -76.51494983546603], [42.44192298776491, -76.51490901282178], [42.441970892458706, -76.51486995733357], [42.44203389483494, -76.51482601112995], [42.44210707701726, -76.51478692917253], [42.44217694216222, -76.51475931306209], [42.44225903354513, -76.51473364175244], [42.442445675693016, -76.51468795940792], [42.44263372250806, -76.51464417026115], [42.442781776353975, -76.5146136884073], [42.443319502332706, -76.51452333568821], [42.44370845717067, -76.5144894181317], [42.443842517361, -76.51451234612311], [42.4439954684155, -76.51459834796702]], "name": "PARK RD", "priority": 0.2145}]}, {"id": "cycle_optimized", "rank": "OPT", "method": "optimized", "benefit": 24988.794582797836, "time": 0.0686323620921146, "color": "#0000ff", "paths": [{"coords": [[42.454728064542124, -76.51364357071164], [42.454808000850335, -76.51338547578123]], "name": "COVE LA", "priority": 0.1985}, {"coords": [[42.454728064542124, -76.51364357071164], [42.454808000850335, -76.51338547578123]], "name": "COVE LA", "priority": 0.1985}]}];
        
        // Initialize map
        const map = L.map('map').setView([42.45, -76.5], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);
        
        // Current cycle layer
        let currentLayer = null;
        let currentIndex = 0;
        
        // Populate selector
        const selector = document.getElementById('cycleSelector');
        cycles.forEach((cycle, idx) => {
            const option = document.createElement('option');
            option.value = idx;
            option.textContent = `Rank ${cycle.rank} - ${cycle.method} (b/m=${Math.round(cycle.benefit)})`;
            selector.appendChild(option);
        });
        
        // Display cycle
        function displayCycle(index) {
            currentIndex = index;
            const cycle = cycles[index];
            
            // Remove old layer
            if (currentLayer) {
                map.removeLayer(currentLayer);
            }
            
            // Create new layer group
            currentLayer = L.layerGroup();
            
            // Add paths
            cycle.paths.forEach(path => {
                const polyline = L.polyline(path.coords, {
                    color: cycle.color,
                    weight: 5,
                    opacity: 0.8
                });
                
                polyline.bindPopup(`
                    <b>${path.name}</b><br>
                    Priority: ${path.priority.toFixed(3)}
                `);
                
                currentLayer.addLayer(polyline);
            });
            
            currentLayer.addTo(map);
            
            // Fit bounds to cycle
            if (cycle.paths.length > 0) {
                const bounds = L.latLngBounds(
                    cycle.paths.flatMap(p => p.coords)
                );
                map.fitBounds(bounds, { padding: [50, 50] });
            }
            
            // Update stats
            updateStats(cycle);
            
            // Update selector
            selector.value = index;
            
            // Update buttons
            document.getElementById('prevBtn').disabled = (index === 0);
            document.getElementById('nextBtn').disabled = (index === cycles.length - 1);
        }
        
        // Update stats box
        function updateStats(cycle) {
            const statsBox = document.getElementById('statsBox');
            statsBox.innerHTML = `
                <table>
                    <tr>
                        <td class="label">Rank:</td>
                        <td class="value">${cycle.rank}</td>
                    </tr>
                    <tr>
                        <td class="label">Method:</td>
                        <td class="value">${cycle.method}</td>
                    </tr>
                    <tr>
                        <td class="label">Benefit/min:</td>
                        <td class="value">${Math.round(cycle.benefit)}</td>
                    </tr>
                    <tr>
                        <td class="label">Time:</td>
                        <td class="value">${cycle.time.toFixed(1)} min</td>
                    </tr>
                    <tr>
                        <td class="label">Edges:</td>
                        <td class="value">${cycle.paths.length}</td>
                    </tr>
                    <tr>
                        <td class="label">Color:</td>
                        <td class="value"><span class="color-indicator" style="background: ${cycle.color}"></span></td>
                    </tr>
                </table>
            `;
        }
        
        // Event listeners
        selector.addEventListener('change', (e) => {
            displayCycle(parseInt(e.target.value));
        });
        
        document.getElementById('prevBtn').addEventListener('click', () => {
            if (currentIndex > 0) {
                displayCycle(currentIndex - 1);
            }
        });
        
        document.getElementById('nextBtn').addEventListener('click', () => {
            if (currentIndex < cycles.length - 1) {
                displayCycle(currentIndex + 1);
            }
        });
        
        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft' && currentIndex > 0) {
                displayCycle(currentIndex - 1);
            } else if (e.key === 'ArrowRight' && currentIndex < cycles.length - 1) {
                displayCycle(currentIndex + 1);
            }
        });
        
        // Display first cycle
        displayCycle(0);
    </script>
</body>
</html>
