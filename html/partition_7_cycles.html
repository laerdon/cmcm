
<!DOCTYPE html>
<html>
<head>
    <title>Partition 7 - Cycle Viewer</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
        }
        .control-panel {
            position: absolute;
            top: 10px;
            right: 10px;
            background: white;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            z-index: 1000;
            width: 320px;
        }
        .control-panel h3 {
            margin: 0 0 15px 0;
            font-size: 16px;
        }
        .cycle-selector {
            width: 100%;
            padding: 8px;
            font-size: 14px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
        .nav-buttons {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
        }
        .nav-button {
            flex: 1;
            padding: 8px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 14px;
        }
        .nav-button:hover {
            background: #0056b3;
        }
        .nav-button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        .stats-box {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 3px;
            font-size: 13px;
        }
        .stats-box table {
            width: 100%;
            border-collapse: collapse;
        }
        .stats-box td {
            padding: 4px 0;
        }
        .stats-box .label {
            font-weight: bold;
        }
        .stats-box .value {
            text-align: right;
        }
        .color-indicator {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 3px;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div class="control-panel">
        <h3>Partition 7 - Cycle Viewer</h3>
        
        <select id="cycleSelector" class="cycle-selector">
            <!-- Options filled by JS -->
        </select>
        
        <div class="nav-buttons">
            <button id="prevBtn" class="nav-button">← Previous</button>
            <button id="nextBtn" class="nav-button">Next →</button>
        </div>
        
        <div id="statsBox" class="stats-box">
            <!-- Stats filled by JS -->
        </div>
    </div>

    <script>
        // Cycle data
        const cycles = [{"id": "cycle_0", "rank": 1, "method": "greedy", "benefit": 10180.26003067841, "time": 1.7843907261970173, "color": "#00ff00", "paths": [{"coords": [[42.45155446771026, -76.50331975578254], [42.45172806833047, -76.50312662007839], [42.451810160931316, -76.50304360441508], [42.45191505253738, -76.50294272864453], [42.45200177756177, -76.50286179150014], [42.45208370444509, -76.50278665069766], [42.45217026221057, -76.50271127155955], [42.45227499191237, -76.50262637417822], [42.45238417767214, -76.50253591254335], [42.45251170385159, -76.50243106816984], [42.452548211570814, -76.50239790262387], [42.45294415690516, -76.50206806398135], [42.45308076958939, -76.50195857404034], [42.4531808718108, -76.50187831088215], [42.45329005613729, -76.50178668926756], [42.45340849747757, -76.50169042215141], [42.45353602177622, -76.50158279518084], [42.45368617401757, -76.5014614734005], [42.45374068293659, -76.50141971468001], [42.453922717658656, -76.50127287460005], [42.454091210122876, -76.50113624298494], [42.4542458251712, -76.50102070262056], [42.45437301473364, -76.50092673834946], [42.4544911235501, -76.50084482766478], [42.45460015208307, -76.50077682591409]], "name": "NYS RTE 13 NB", "priority": 0.6025}, {"coords": [[42.45460015208307, -76.50077682591409], [42.454654668085496, -76.50074525646326], [42.45475444418391, -76.50068838221954], [42.45499719284102, -76.50057044758127]], "name": "NYS RTE 13 N", "priority": 0.6505}, {"coords": [[42.45460015208307, -76.50077682591409], [42.454654668085496, -76.50074525646326], [42.45475444418391, -76.50068838221954], [42.45499719284102, -76.50057044758127]], "name": "NYS RTE 13 N", "priority": 0.6505}, {"coords": [[42.45155446771026, -76.50331975578254], [42.45172806833047, -76.50312662007839], [42.451810160931316, -76.50304360441508], [42.45191505253738, -76.50294272864453], [42.45200177756177, -76.50286179150014], [42.45208370444509, -76.50278665069766], [42.45217026221057, -76.50271127155955], [42.45227499191237, -76.50262637417822], [42.45238417767214, -76.50253591254335], [42.45251170385159, -76.50243106816984], [42.452548211570814, -76.50239790262387], [42.45294415690516, -76.50206806398135], [42.45308076958939, -76.50195857404034], [42.4531808718108, -76.50187831088215], [42.45329005613729, -76.50178668926756], [42.45340849747757, -76.50169042215141], [42.45353602177622, -76.50158279518084], [42.45368617401757, -76.5014614734005], [42.45374068293659, -76.50141971468001], [42.453922717658656, -76.50127287460005], [42.454091210122876, -76.50113624298494], [42.4542458251712, -76.50102070262056], [42.45437301473364, -76.50092673834946], [42.4544911235501, -76.50084482766478], [42.45460015208307, -76.50077682591409]], "name": "NYS RTE 13 NB", "priority": 0.6025}, {"coords": [[42.45086854533332, -76.50407271079449], [42.451353114961606, -76.50355901261062], [42.45144462709358, -76.50345583953403], [42.45155446771026, -76.50331975578254]], "name": "N MEADOW ST NB", "priority": 0.5865}, {"coords": [[42.45086854533332, -76.50407271079449], [42.451353114961606, -76.50355901261062], [42.45144462709358, -76.50345583953403], [42.45155446771026, -76.50331975578254]], "name": "N MEADOW ST NB", "priority": 0.5865}, {"coords": [[42.451149455077854, -76.5029501921572], [42.45125207116479, -76.50302972767005], [42.45135452310814, -76.50311922140057], [42.45146143282696, -76.50320685823586], [42.45152339712903, -76.50328019399352], [42.45155446771026, -76.50331975578254]], "name": "DEY ST", "priority": 0.263}, {"coords": [[42.451149455077854, -76.5029501921572], [42.45125207116479, -76.50302972767005], [42.45135452310814, -76.50311922140057], [42.45146143282696, -76.50320685823586], [42.45152339712903, -76.50328019399352], [42.45155446771026, -76.50331975578254]], "name": "DEY ST", "priority": 0.263}]}, {"id": "cycle_1", "rank": 2, "method": "greedy", "benefit": 8673.594190937563, "time": 2.98238844665864, "color": "#38ff00", "paths": [{"coords": [[42.449583461552585, -76.50081699280632], [42.44931417716325, -76.50146511621449]], "name": "ADAMS ST", "priority": 0.1985}, {"coords": [[42.449312670067094, -76.50146510602052], [42.449313805981156, -76.50146601020386], [42.4502317192612, -76.50220913207264]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.4502317192612, -76.50220913207264], [42.45031185994233, -76.50227572538327], [42.451055930059795, -76.50287319213466], [42.451149455077854, -76.5029501921572]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.451149455077854, -76.5029501921572], [42.45125207116479, -76.50302972767005], [42.45135452310814, -76.50311922140057], [42.45146143282696, -76.50320685823586], [42.45152339712903, -76.50328019399352], [42.45155446771026, -76.50331975578254]], "name": "DEY ST", "priority": 0.263}, {"coords": [[42.45155446771026, -76.50331975578254], [42.45172806833047, -76.50312662007839], [42.451810160931316, -76.50304360441508], [42.45191505253738, -76.50294272864453], [42.45200177756177, -76.50286179150014], [42.45208370444509, -76.50278665069766], [42.45217026221057, -76.50271127155955], [42.45227499191237, -76.50262637417822], [42.45238417767214, -76.50253591254335], [42.45251170385159, -76.50243106816984], [42.452548211570814, -76.50239790262387], [42.45294415690516, -76.50206806398135], [42.45308076958939, -76.50195857404034], [42.4531808718108, -76.50187831088215], [42.45329005613729, -76.50178668926756], [42.45340849747757, -76.50169042215141], [42.45353602177622, -76.50158279518084], [42.45368617401757, -76.5014614734005], [42.45374068293659, -76.50141971468001], [42.453922717658656, -76.50127287460005], [42.454091210122876, -76.50113624298494], [42.4542458251712, -76.50102070262056], [42.45437301473364, -76.50092673834946], [42.4544911235501, -76.50084482766478], [42.45460015208307, -76.50077682591409]], "name": "NYS RTE 13 NB", "priority": 0.6025}, {"coords": [[42.45460015208307, -76.50077682591409], [42.454654668085496, -76.50074525646326], [42.45475444418391, -76.50068838221954], [42.45499719284102, -76.50057044758127]], "name": "NYS RTE 13 N", "priority": 0.6505}, {"coords": [[42.45460015208307, -76.50077682591409], [42.454654668085496, -76.50074525646326], [42.45475444418391, -76.50068838221954], [42.45499719284102, -76.50057044758127]], "name": "NYS RTE 13 N", "priority": 0.6505}, {"coords": [[42.45155446771026, -76.50331975578254], [42.45172806833047, -76.50312662007839], [42.451810160931316, -76.50304360441508], [42.45191505253738, -76.50294272864453], [42.45200177756177, -76.50286179150014], [42.45208370444509, -76.50278665069766], [42.45217026221057, -76.50271127155955], [42.45227499191237, -76.50262637417822], [42.45238417767214, -76.50253591254335], [42.45251170385159, -76.50243106816984], [42.452548211570814, -76.50239790262387], [42.45294415690516, -76.50206806398135], [42.45308076958939, -76.50195857404034], [42.4531808718108, -76.50187831088215], [42.45329005613729, -76.50178668926756], [42.45340849747757, -76.50169042215141], [42.45353602177622, -76.50158279518084], [42.45368617401757, -76.5014614734005], [42.45374068293659, -76.50141971468001], [42.453922717658656, -76.50127287460005], [42.454091210122876, -76.50113624298494], [42.4542458251712, -76.50102070262056], [42.45437301473364, -76.50092673834946], [42.4544911235501, -76.50084482766478], [42.45460015208307, -76.50077682591409]], "name": "NYS RTE 13 NB", "priority": 0.6025}, {"coords": [[42.45086854533332, -76.50407271079449], [42.451353114961606, -76.50355901261062], [42.45144462709358, -76.50345583953403], [42.45155446771026, -76.50331975578254]], "name": "N MEADOW ST NB", "priority": 0.5865}, {"coords": [[42.45086854533332, -76.50407271079449], [42.451353114961606, -76.50355901261062], [42.45144462709358, -76.50345583953403], [42.45155446771026, -76.50331975578254]], "name": "N MEADOW ST NB", "priority": 0.5865}, {"coords": [[42.451149455077854, -76.5029501921572], [42.45125207116479, -76.50302972767005], [42.45135452310814, -76.50311922140057], [42.45146143282696, -76.50320685823586], [42.45152339712903, -76.50328019399352], [42.45155446771026, -76.50331975578254]], "name": "DEY ST", "priority": 0.263}, {"coords": [[42.4502317192612, -76.50220913207264], [42.45031185994233, -76.50227572538327], [42.451055930059795, -76.50287319213466], [42.451149455077854, -76.5029501921572]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.449312670067094, -76.50146510602052], [42.449313805981156, -76.50146601020386], [42.4502317192612, -76.50220913207264]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.44855285538219, -76.5007789769517], [42.4485700507795, -76.5008412498472], [42.44860987504283, -76.50088982930566], [42.448654326221984, -76.50093261266065], [42.44923366680276, -76.5014021967456], [42.449312670067094, -76.50146510602052]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.44855285538219, -76.5007789769517], [42.4485700507795, -76.5008412498472], [42.44860987504283, -76.50088982930566], [42.448654326221984, -76.50093261266065], [42.44923366680276, -76.5014021967456], [42.449312670067094, -76.50146510602052]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.449583461552585, -76.50081699280632], [42.44931417716325, -76.50146511621449]], "name": "ADAMS ST", "priority": 0.1985}]}, {"id": "cycle_2", "rank": 3, "method": "greedy", "benefit": 8329.887920501189, "time": 2.865850468340268, "color": "#71ff00", "paths": [{"coords": [[42.4508025880023, -76.50090293278271], [42.450774523196344, -76.50098935234456], [42.45069575118357, -76.5011573568917], [42.45041733359212, -76.50178948928011], [42.450231874762025, -76.50220877932705]], "name": "FRANKLIN ST", "priority": 0.1985}, {"coords": [[42.4502317192612, -76.50220913207264], [42.45031185994233, -76.50227572538327], [42.451055930059795, -76.50287319213466], [42.451149455077854, -76.5029501921572]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.451149455077854, -76.5029501921572], [42.45125207116479, -76.50302972767005], [42.45135452310814, -76.50311922140057], [42.45146143282696, -76.50320685823586], [42.45152339712903, -76.50328019399352], [42.45155446771026, -76.50331975578254]], "name": "DEY ST", "priority": 0.263}, {"coords": [[42.45155446771026, -76.50331975578254], [42.45172806833047, -76.50312662007839], [42.451810160931316, -76.50304360441508], [42.45191505253738, -76.50294272864453], [42.45200177756177, -76.50286179150014], [42.45208370444509, -76.50278665069766], [42.45217026221057, -76.50271127155955], [42.45227499191237, -76.50262637417822], [42.45238417767214, -76.50253591254335], [42.45251170385159, -76.50243106816984], [42.452548211570814, -76.50239790262387], [42.45294415690516, -76.50206806398135], [42.45308076958939, -76.50195857404034], [42.4531808718108, -76.50187831088215], [42.45329005613729, -76.50178668926756], [42.45340849747757, -76.50169042215141], [42.45353602177622, -76.50158279518084], [42.45368617401757, -76.5014614734005], [42.45374068293659, -76.50141971468001], [42.453922717658656, -76.50127287460005], [42.454091210122876, -76.50113624298494], [42.4542458251712, -76.50102070262056], [42.45437301473364, -76.50092673834946], [42.4544911235501, -76.50084482766478], [42.45460015208307, -76.50077682591409]], "name": "NYS RTE 13 NB", "priority": 0.6025}, {"coords": [[42.45460015208307, -76.50077682591409], [42.454654668085496, -76.50074525646326], [42.45475444418391, -76.50068838221954], [42.45499719284102, -76.50057044758127]], "name": "NYS RTE 13 N", "priority": 0.6505}, {"coords": [[42.45460015208307, -76.50077682591409], [42.454654668085496, -76.50074525646326], [42.45475444418391, -76.50068838221954], [42.45499719284102, -76.50057044758127]], "name": "NYS RTE 13 N", "priority": 0.6505}, {"coords": [[42.45155446771026, -76.50331975578254], [42.45172806833047, -76.50312662007839], [42.451810160931316, -76.50304360441508], [42.45191505253738, -76.50294272864453], [42.45200177756177, -76.50286179150014], [42.45208370444509, -76.50278665069766], [42.45217026221057, -76.50271127155955], [42.45227499191237, -76.50262637417822], [42.45238417767214, -76.50253591254335], [42.45251170385159, -76.50243106816984], [42.452548211570814, -76.50239790262387], [42.45294415690516, -76.50206806398135], [42.45308076958939, -76.50195857404034], [42.4531808718108, -76.50187831088215], [42.45329005613729, -76.50178668926756], [42.45340849747757, -76.50169042215141], [42.45353602177622, -76.50158279518084], [42.45368617401757, -76.5014614734005], [42.45374068293659, -76.50141971468001], [42.453922717658656, -76.50127287460005], [42.454091210122876, -76.50113624298494], [42.4542458251712, -76.50102070262056], [42.45437301473364, -76.50092673834946], [42.4544911235501, -76.50084482766478], [42.45460015208307, -76.50077682591409]], "name": "NYS RTE 13 NB", "priority": 0.6025}, {"coords": [[42.45086854533332, -76.50407271079449], [42.451353114961606, -76.50355901261062], [42.45144462709358, -76.50345583953403], [42.45155446771026, -76.50331975578254]], "name": "N MEADOW ST NB", "priority": 0.5865}, {"coords": [[42.45086854533332, -76.50407271079449], [42.451353114961606, -76.50355901261062], [42.45144462709358, -76.50345583953403], [42.45155446771026, -76.50331975578254]], "name": "N MEADOW ST NB", "priority": 0.5865}, {"coords": [[42.451149455077854, -76.5029501921572], [42.45125207116479, -76.50302972767005], [42.45135452310814, -76.50311922140057], [42.45146143282696, -76.50320685823586], [42.45152339712903, -76.50328019399352], [42.45155446771026, -76.50331975578254]], "name": "DEY ST", "priority": 0.263}, {"coords": [[42.4502317192612, -76.50220913207264], [42.45031185994233, -76.50227572538327], [42.451055930059795, -76.50287319213466], [42.451149455077854, -76.5029501921572]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.449312670067094, -76.50146510602052], [42.449313805981156, -76.50146601020386], [42.4502317192612, -76.50220913207264]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.449312670067094, -76.50146510602052], [42.449313805981156, -76.50146601020386], [42.4502317192612, -76.50220913207264]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.4508025880023, -76.50090293278271], [42.450774523196344, -76.50098935234456], [42.45069575118357, -76.5011573568917], [42.45041733359212, -76.50178948928011], [42.450231874762025, -76.50220877932705]], "name": "FRANKLIN ST", "priority": 0.1985}]}, {"id": "cycle_3", "rank": 4, "method": "greedy", "benefit": 7441.129061418263, "time": 4.628725865823325, "color": "#aaff00", "paths": [{"coords": [[42.44977681686973, -76.5032266275648], [42.44977708620378, -76.50322683753134], [42.44985276166018, -76.50328556348242], [42.450169029136525, -76.5035468522033], [42.450605922115784, -76.50389066810524], [42.45064606835404, -76.50391076605767]], "name": "WILLOW AVE", "priority": 0.1985}, {"coords": [[42.44977681686973, -76.5032266275648], [42.44977708620378, -76.50322683753134], [42.44985276166018, -76.50328556348242], [42.450169029136525, -76.5035468522033], [42.450605922115784, -76.50389066810524], [42.45064606835404, -76.50391076605767]], "name": "WILLOW AVE", "priority": 0.1985}, {"coords": [[42.448854371349455, -76.50248805948848], [42.44885472356315, -76.50248834228101], [42.44892299037172, -76.50254120078152], [42.449638949114586, -76.50311886350194], [42.44977681686973, -76.5032266275648]], "name": "WILLOW AVE", "priority": 0.1985}, {"coords": [[42.44931417716325, -76.50146511621449], [42.449313805981156, -76.50146601020386], [42.44885472356315, -76.50248834228101]], "name": "ADAMS ST", "priority": 0.1985}, {"coords": [[42.449312670067094, -76.50146510602052], [42.449313805981156, -76.50146601020386], [42.4502317192612, -76.50220913207264]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.4502317192612, -76.50220913207264], [42.45031185994233, -76.50227572538327], [42.451055930059795, -76.50287319213466], [42.451149455077854, -76.5029501921572]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.451149455077854, -76.5029501921572], [42.45125207116479, -76.50302972767005], [42.45135452310814, -76.50311922140057], [42.45146143282696, -76.50320685823586], [42.45152339712903, -76.50328019399352], [42.45155446771026, -76.50331975578254]], "name": "DEY ST", "priority": 0.263}, {"coords": [[42.45155446771026, -76.50331975578254], [42.45172806833047, -76.50312662007839], [42.451810160931316, -76.50304360441508], [42.45191505253738, -76.50294272864453], [42.45200177756177, -76.50286179150014], [42.45208370444509, -76.50278665069766], [42.45217026221057, -76.50271127155955], [42.45227499191237, -76.50262637417822], [42.45238417767214, -76.50253591254335], [42.45251170385159, -76.50243106816984], [42.452548211570814, -76.50239790262387], [42.45294415690516, -76.50206806398135], [42.45308076958939, -76.50195857404034], [42.4531808718108, -76.50187831088215], [42.45329005613729, -76.50178668926756], [42.45340849747757, -76.50169042215141], [42.45353602177622, -76.50158279518084], [42.45368617401757, -76.5014614734005], [42.45374068293659, -76.50141971468001], [42.453922717658656, -76.50127287460005], [42.454091210122876, -76.50113624298494], [42.4542458251712, -76.50102070262056], [42.45437301473364, -76.50092673834946], [42.4544911235501, -76.50084482766478], [42.45460015208307, -76.50077682591409]], "name": "NYS RTE 13 NB", "priority": 0.6025}, {"coords": [[42.45460015208307, -76.50077682591409], [42.454654668085496, -76.50074525646326], [42.45475444418391, -76.50068838221954], [42.45499719284102, -76.50057044758127]], "name": "NYS RTE 13 N", "priority": 0.6505}, {"coords": [[42.45460015208307, -76.50077682591409], [42.454654668085496, -76.50074525646326], [42.45475444418391, -76.50068838221954], [42.45499719284102, -76.50057044758127]], "name": "NYS RTE 13 N", "priority": 0.6505}, {"coords": [[42.45155446771026, -76.50331975578254], [42.45172806833047, -76.50312662007839], [42.451810160931316, -76.50304360441508], [42.45191505253738, -76.50294272864453], [42.45200177756177, -76.50286179150014], [42.45208370444509, -76.50278665069766], [42.45217026221057, -76.50271127155955], [42.45227499191237, -76.50262637417822], [42.45238417767214, -76.50253591254335], [42.45251170385159, -76.50243106816984], [42.452548211570814, -76.50239790262387], [42.45294415690516, -76.50206806398135], [42.45308076958939, -76.50195857404034], [42.4531808718108, -76.50187831088215], [42.45329005613729, -76.50178668926756], [42.45340849747757, -76.50169042215141], [42.45353602177622, -76.50158279518084], [42.45368617401757, -76.5014614734005], [42.45374068293659, -76.50141971468001], [42.453922717658656, -76.50127287460005], [42.454091210122876, -76.50113624298494], [42.4542458251712, -76.50102070262056], [42.45437301473364, -76.50092673834946], [42.4544911235501, -76.50084482766478], [42.45460015208307, -76.50077682591409]], "name": "NYS RTE 13 NB", "priority": 0.6025}, {"coords": [[42.45086854533332, -76.50407271079449], [42.451353114961606, -76.50355901261062], [42.45144462709358, -76.50345583953403], [42.45155446771026, -76.50331975578254]], "name": "N MEADOW ST NB", "priority": 0.5865}, {"coords": [[42.45086854533332, -76.50407271079449], [42.451353114961606, -76.50355901261062], [42.45144462709358, -76.50345583953403], [42.45155446771026, -76.50331975578254]], "name": "N MEADOW ST NB", "priority": 0.5865}, {"coords": [[42.451149455077854, -76.5029501921572], [42.45125207116479, -76.50302972767005], [42.45135452310814, -76.50311922140057], [42.45146143282696, -76.50320685823586], [42.45152339712903, -76.50328019399352], [42.45155446771026, -76.50331975578254]], "name": "DEY ST", "priority": 0.263}, {"coords": [[42.4502317192612, -76.50220913207264], [42.45031185994233, -76.50227572538327], [42.451055930059795, -76.50287319213466], [42.451149455077854, -76.5029501921572]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.449312670067094, -76.50146510602052], [42.449313805981156, -76.50146601020386], [42.4502317192612, -76.50220913207264]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.44855285538219, -76.5007789769517], [42.4485700507795, -76.5008412498472], [42.44860987504283, -76.50088982930566], [42.448654326221984, -76.50093261266065], [42.44923366680276, -76.5014021967456], [42.449312670067094, -76.50146510602052]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.44855285538219, -76.5007789769517], [42.4485700507795, -76.5008412498472], [42.44860987504283, -76.50088982930566], [42.448654326221984, -76.50093261266065], [42.44923366680276, -76.5014021967456], [42.449312670067094, -76.50146510602052]], "name": "DEY ST", "priority": 0.2309999999999999}, {"coords": [[42.449583461552585, -76.50081699280632], [42.44931417716325, -76.50146511621449]], "name": "ADAMS ST", "priority": 0.1985}, {"coords": [[42.449583461552585, -76.50081699280632], [42.44931417716325, -76.50146511621449]], "name": "ADAMS ST", "priority": 0.1985}, {"coords": [[42.44931417716325, -76.50146511621449], [42.449313805981156, -76.50146601020386], [42.44885472356315, -76.50248834228101]], "name": "ADAMS ST", "priority": 0.1985}, {"coords": [[42.448854371349455, -76.50248805948848], [42.44885472356315, -76.50248834228101], [42.44892299037172, -76.50254120078152], [42.449638949114586, -76.50311886350194], [42.44977681686973, -76.5032266275648]], "name": "WILLOW AVE", "priority": 0.1985}, {"coords": [[42.450231874762025, -76.50220877932705], [42.4502317192612, -76.50220913207264], [42.44977708620378, -76.50322683753134]], "name": "FRANKLIN ST", "priority": 0.1985}, {"coords": [[42.4508025880023, -76.50090293278271], [42.450774523196344, -76.50098935234456], [42.45069575118357, -76.5011573568917], [42.45041733359212, -76.50178948928011], [42.450231874762025, -76.50220877932705]], "name": "FRANKLIN ST", "priority": 0.1985}, {"coords": [[42.4508025880023, -76.50090293278271], [42.450774523196344, -76.50098935234456], [42.45069575118357, -76.5011573568917], [42.45041733359212, -76.50178948928011], [42.450231874762025, -76.50220877932705]], "name": "FRANKLIN ST", "priority": 0.1985}, {"coords": [[42.450231874762025, -76.50220877932705], [42.4502317192612, -76.50220913207264], [42.44977708620378, -76.50322683753134]], "name": "FRANKLIN ST", "priority": 0.1985}]}, {"id": "cycle_4", "rank": 5, "method": "greedy", "benefit": 6122.627013695553, "time": 0.9546486620494646, "color": "#e2ff00", "paths": [{"coords": [[42.44781642439865, -76.50200058627105], [42.44777018638164, -76.50209721408531], [42.447358321289215, -76.50303217249366]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.447358321289215, -76.50303217249366], [42.447357002657064, -76.50303516581027], [42.446889540086616, -76.50408545330689]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.447358321289215, -76.50303217249366], [42.447357002657064, -76.50303516581027], [42.446889540086616, -76.50408545330689]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.44781642439865, -76.50200058627105], [42.44777018638164, -76.50209721408531], [42.447358321289215, -76.50303217249366]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.44688597928052, -76.50125518441035], [42.447815363250655, -76.5019997354903]], "name": "LAKE AVE", "priority": 0.2145}, {"coords": [[42.44688597928052, -76.50125518441035], [42.447815363250655, -76.5019997354903]], "name": "LAKE AVE", "priority": 0.2145}]}, {"id": "cycle_5", "rank": 6, "method": "greedy", "benefit": 6122.627013695553, "time": 0.9546486620494646, "color": "#ffe200", "paths": [{"coords": [[42.44781642439865, -76.50200058627105], [42.44777018638164, -76.50209721408531], [42.447358321289215, -76.50303217249366]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.447358321289215, -76.50303217249366], [42.447357002657064, -76.50303516581027], [42.446889540086616, -76.50408545330689]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.447358321289215, -76.50303217249366], [42.447357002657064, -76.50303516581027], [42.446889540086616, -76.50408545330689]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.44781642439865, -76.50200058627105], [42.44777018638164, -76.50209721408531], [42.447358321289215, -76.50303217249366]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.44688597928052, -76.50125518441035], [42.447815363250655, -76.5019997354903]], "name": "LAKE AVE", "priority": 0.2145}, {"coords": [[42.44688597928052, -76.50125518441035], [42.447815363250655, -76.5019997354903]], "name": "LAKE AVE", "priority": 0.2145}]}, {"id": "cycle_6", "rank": 7, "method": "greedy", "benefit": 5886.400003358211, "time": 1.4567797793026545, "color": "#ffaa00", "paths": [{"coords": [[42.445052687687955, -76.50260461486633], [42.44595815874911, -76.50333515701855]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.44643033486779, -76.50228375387202], [42.44596173927876, -76.5033378316226]], "name": "MADISON ST", "priority": 0.1985}, {"coords": [[42.44643033486779, -76.50228375387202], [42.44596173927876, -76.5033378316226]], "name": "MADISON ST", "priority": 0.1985}, {"coords": [[42.445052687687955, -76.50260461486633], [42.44595815874911, -76.50333515701855]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.445517776628286, -76.50154094108049], [42.44551688768724, -76.50154297104153], [42.44505291959001, -76.50260408457913]], "name": "MONROE ST", "priority": 0.1985}, {"coords": [[42.445517776628286, -76.50154094108049], [42.44551688768724, -76.50154297104153], [42.44505291959001, -76.50260408457913]], "name": "MONROE ST", "priority": 0.1985}, {"coords": [[42.44505291959001, -76.50260408457913], [42.445052687687955, -76.50260461486633], [42.444597895679095, -76.50364539026147]], "name": "MONROE ST", "priority": 0.1985}, {"coords": [[42.44505291959001, -76.50260408457913], [42.445052687687955, -76.50260461486633], [42.444597895679095, -76.50364539026147]], "name": "MONROE ST", "priority": 0.1985}, {"coords": [[42.44451814235118, -76.50217482211629], [42.445052687687955, -76.50260461486633]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.44451814235118, -76.50217482211629], [42.445052687687955, -76.50260461486633]], "name": "SECOND ST", "priority": 0.1985}]}, {"id": "cycle_7", "rank": 8, "method": "greedy", "benefit": 5572.871080254054, "time": 2.5627487540380733, "color": "#ff7100", "paths": [{"coords": [[42.447358321289215, -76.50303217249366], [42.447357002657064, -76.50303516581027], [42.446889540086616, -76.50408545330689]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.447358321289215, -76.50303217249366], [42.447357002657064, -76.50303516581027], [42.446889540086616, -76.50408545330689]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.446889540086616, -76.50408545330689], [42.446888494670965, -76.5040878031783], [42.446430667497026, -76.50512657684467]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.446889540086616, -76.50408545330689], [42.446888494670965, -76.5040878031783], [42.446430667497026, -76.50512657684467]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.446888494670965, -76.5040878031783], [42.44781085139613, -76.50483092916954]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.448279609646356, -76.50378281466831], [42.44827936965828, -76.50378337659507], [42.44823758511183, -76.50387397714935], [42.44781094218568, -76.50483072483111]], "name": "ADAMS ST", "priority": 0.1985}, {"coords": [[42.448279609646356, -76.50378281466831], [42.44827936965828, -76.50378337659507], [42.44823758511183, -76.50387397714935], [42.44781094218568, -76.50483072483111]], "name": "ADAMS ST", "priority": 0.1985}, {"coords": [[42.446888494670965, -76.5040878031783], [42.44781085139613, -76.50483092916954]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.44595815874911, -76.50333515701855], [42.44596166916545, -76.50333798852289], [42.446888494670965, -76.5040878031783]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.44643033486779, -76.50228375387202], [42.44596173927876, -76.5033378316226]], "name": "MADISON ST", "priority": 0.1985}, {"coords": [[42.44643033486779, -76.50228375387202], [42.44596173927876, -76.5033378316226]], "name": "MADISON ST", "priority": 0.1985}, {"coords": [[42.445052687687955, -76.50260461486633], [42.44595815874911, -76.50333515701855]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.445052687687955, -76.50260461486633], [42.44595815874911, -76.50333515701855]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.44596173927876, -76.5033378316226], [42.44596166916545, -76.50333798852289], [42.44549823839729, -76.50437590602365]], "name": "MADISON ST", "priority": 0.1985}, {"coords": [[42.44596173927876, -76.5033378316226], [42.44596166916545, -76.50333798852289], [42.44549823839729, -76.50437590602365]], "name": "MADISON ST", "priority": 0.1985}, {"coords": [[42.44595815874911, -76.50333515701855], [42.44596166916545, -76.50333798852289], [42.446888494670965, -76.5040878031783]], "name": "SECOND ST", "priority": 0.1985}]}, {"id": "cycle_8", "rank": 9, "method": "greedy", "benefit": 5572.871080254054, "time": 2.5627487540380733, "color": "#ff3800", "paths": [{"coords": [[42.447358321289215, -76.50303217249366], [42.447357002657064, -76.50303516581027], [42.446889540086616, -76.50408545330689]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.447358321289215, -76.50303217249366], [42.447357002657064, -76.50303516581027], [42.446889540086616, -76.50408545330689]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.446889540086616, -76.50408545330689], [42.446888494670965, -76.5040878031783], [42.446430667497026, -76.50512657684467]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.446889540086616, -76.50408545330689], [42.446888494670965, -76.5040878031783], [42.446430667497026, -76.50512657684467]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.446888494670965, -76.5040878031783], [42.44781085139613, -76.50483092916954]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.448279609646356, -76.50378281466831], [42.44827936965828, -76.50378337659507], [42.44823758511183, -76.50387397714935], [42.44781094218568, -76.50483072483111]], "name": "ADAMS ST", "priority": 0.1985}, {"coords": [[42.448279609646356, -76.50378281466831], [42.44827936965828, -76.50378337659507], [42.44823758511183, -76.50387397714935], [42.44781094218568, -76.50483072483111]], "name": "ADAMS ST", "priority": 0.1985}, {"coords": [[42.446888494670965, -76.5040878031783], [42.44781085139613, -76.50483092916954]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.44595815874911, -76.50333515701855], [42.44596166916545, -76.50333798852289], [42.446888494670965, -76.5040878031783]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.44643033486779, -76.50228375387202], [42.44596173927876, -76.5033378316226]], "name": "MADISON ST", "priority": 0.1985}, {"coords": [[42.44643033486779, -76.50228375387202], [42.44596173927876, -76.5033378316226]], "name": "MADISON ST", "priority": 0.1985}, {"coords": [[42.445052687687955, -76.50260461486633], [42.44595815874911, -76.50333515701855]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.445052687687955, -76.50260461486633], [42.44595815874911, -76.50333515701855]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.44596173927876, -76.5033378316226], [42.44596166916545, -76.50333798852289], [42.44549823839729, -76.50437590602365]], "name": "MADISON ST", "priority": 0.1985}, {"coords": [[42.44596173927876, -76.5033378316226], [42.44596166916545, -76.50333798852289], [42.44549823839729, -76.50437590602365]], "name": "MADISON ST", "priority": 0.1985}, {"coords": [[42.44595815874911, -76.50333515701855], [42.44596166916545, -76.50333798852289], [42.446888494670965, -76.5040878031783]], "name": "SECOND ST", "priority": 0.1985}]}, {"id": "cycle_9", "rank": 10, "method": "greedy", "benefit": 5572.871080254054, "time": 2.5627487540380733, "color": "#ff0000", "paths": [{"coords": [[42.447358321289215, -76.50303217249366], [42.447357002657064, -76.50303516581027], [42.446889540086616, -76.50408545330689]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.447358321289215, -76.50303217249366], [42.447357002657064, -76.50303516581027], [42.446889540086616, -76.50408545330689]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.446889540086616, -76.50408545330689], [42.446888494670965, -76.5040878031783], [42.446430667497026, -76.50512657684467]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.446889540086616, -76.50408545330689], [42.446888494670965, -76.5040878031783], [42.446430667497026, -76.50512657684467]], "name": "HANCOCK ST", "priority": 0.2309999999999999}, {"coords": [[42.446888494670965, -76.5040878031783], [42.44781085139613, -76.50483092916954]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.448279609646356, -76.50378281466831], [42.44827936965828, -76.50378337659507], [42.44823758511183, -76.50387397714935], [42.44781094218568, -76.50483072483111]], "name": "ADAMS ST", "priority": 0.1985}, {"coords": [[42.448279609646356, -76.50378281466831], [42.44827936965828, -76.50378337659507], [42.44823758511183, -76.50387397714935], [42.44781094218568, -76.50483072483111]], "name": "ADAMS ST", "priority": 0.1985}, {"coords": [[42.446888494670965, -76.5040878031783], [42.44781085139613, -76.50483092916954]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.44595815874911, -76.50333515701855], [42.44596166916545, -76.50333798852289], [42.446888494670965, -76.5040878031783]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.44643033486779, -76.50228375387202], [42.44596173927876, -76.5033378316226]], "name": "MADISON ST", "priority": 0.1985}, {"coords": [[42.44643033486779, -76.50228375387202], [42.44596173927876, -76.5033378316226]], "name": "MADISON ST", "priority": 0.1985}, {"coords": [[42.445052687687955, -76.50260461486633], [42.44595815874911, -76.50333515701855]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.445052687687955, -76.50260461486633], [42.44595815874911, -76.50333515701855]], "name": "SECOND ST", "priority": 0.1985}, {"coords": [[42.44596173927876, -76.5033378316226], [42.44596166916545, -76.50333798852289], [42.44549823839729, -76.50437590602365]], "name": "MADISON ST", "priority": 0.1985}, {"coords": [[42.44596173927876, -76.5033378316226], [42.44596166916545, -76.50333798852289], [42.44549823839729, -76.50437590602365]], "name": "MADISON ST", "priority": 0.1985}, {"coords": [[42.44595815874911, -76.50333515701855], [42.44596166916545, -76.50333798852289], [42.446888494670965, -76.5040878031783]], "name": "SECOND ST", "priority": 0.1985}]}, {"id": "cycle_optimized", "rank": "OPT", "method": "optimized", "benefit": 17995.189013642175, "time": 0.7201922727407488, "color": "#0000ff", "paths": [{"coords": [[42.45086854533332, -76.50407271079449], [42.451353114961606, -76.50355901261062], [42.45144462709358, -76.50345583953403], [42.45155446771026, -76.50331975578254]], "name": "N MEADOW ST NB", "priority": 0.5865}, {"coords": [[42.45460015208307, -76.50077682591409], [42.454654668085496, -76.50074525646326], [42.45475444418391, -76.50068838221954], [42.45499719284102, -76.50057044758127]], "name": "NYS RTE 13 N", "priority": 0.6505}, {"coords": [[42.45460015208307, -76.50077682591409], [42.454654668085496, -76.50074525646326], [42.45475444418391, -76.50068838221954], [42.45499719284102, -76.50057044758127]], "name": "NYS RTE 13 N", "priority": 0.6505}, {"coords": [[42.45460015208307, -76.50077682591409], [42.454654668085496, -76.50074525646326], [42.45475444418391, -76.50068838221954], [42.45499719284102, -76.50057044758127]], "name": "NYS RTE 13 N", "priority": 0.6505}, {"coords": [[42.45086854533332, -76.50407271079449], [42.451353114961606, -76.50355901261062], [42.45144462709358, -76.50345583953403], [42.45155446771026, -76.50331975578254]], "name": "N MEADOW ST NB", "priority": 0.5865}, {"coords": [[42.45062128145096, -76.50434977323927], [42.45086854533332, -76.50407271079449]], "name": "N MEADOW ST NB", "priority": 0.5865}, {"coords": [[42.451149455077854, -76.5029501921572], [42.45125207116479, -76.50302972767005], [42.45135452310814, -76.50311922140057], [42.45146143282696, -76.50320685823586], [42.45152339712903, -76.50328019399352], [42.45155446771026, -76.50331975578254]], "name": "DEY ST", "priority": 0.263}, {"coords": [[42.451149455077854, -76.5029501921572], [42.45125207116479, -76.50302972767005], [42.45135452310814, -76.50311922140057], [42.45146143282696, -76.50320685823586], [42.45152339712903, -76.50328019399352], [42.45155446771026, -76.50331975578254]], "name": "DEY ST", "priority": 0.263}]}];
        
        // Initialize map
        const map = L.map('map').setView([42.45, -76.5], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);
        
        // Current cycle layer
        let currentLayer = null;
        let currentIndex = 0;
        
        // Populate selector
        const selector = document.getElementById('cycleSelector');
        cycles.forEach((cycle, idx) => {
            const option = document.createElement('option');
            option.value = idx;
            option.textContent = `Rank ${cycle.rank} - ${cycle.method} (b/m=${Math.round(cycle.benefit)})`;
            selector.appendChild(option);
        });
        
        // Display cycle
        function displayCycle(index) {
            currentIndex = index;
            const cycle = cycles[index];
            
            // Remove old layer
            if (currentLayer) {
                map.removeLayer(currentLayer);
            }
            
            // Create new layer group
            currentLayer = L.layerGroup();
            
            // Add paths
            cycle.paths.forEach(path => {
                const polyline = L.polyline(path.coords, {
                    color: cycle.color,
                    weight: 5,
                    opacity: 0.8
                });
                
                polyline.bindPopup(`
                    <b>${path.name}</b><br>
                    Priority: ${path.priority.toFixed(3)}
                `);
                
                currentLayer.addLayer(polyline);
            });
            
            currentLayer.addTo(map);
            
            // Fit bounds to cycle
            if (cycle.paths.length > 0) {
                const bounds = L.latLngBounds(
                    cycle.paths.flatMap(p => p.coords)
                );
                map.fitBounds(bounds, { padding: [50, 50] });
            }
            
            // Update stats
            updateStats(cycle);
            
            // Update selector
            selector.value = index;
            
            // Update buttons
            document.getElementById('prevBtn').disabled = (index === 0);
            document.getElementById('nextBtn').disabled = (index === cycles.length - 1);
        }
        
        // Update stats box
        function updateStats(cycle) {
            const statsBox = document.getElementById('statsBox');
            statsBox.innerHTML = `
                <table>
                    <tr>
                        <td class="label">Rank:</td>
                        <td class="value">${cycle.rank}</td>
                    </tr>
                    <tr>
                        <td class="label">Method:</td>
                        <td class="value">${cycle.method}</td>
                    </tr>
                    <tr>
                        <td class="label">Benefit/min:</td>
                        <td class="value">${Math.round(cycle.benefit)}</td>
                    </tr>
                    <tr>
                        <td class="label">Time:</td>
                        <td class="value">${cycle.time.toFixed(1)} min</td>
                    </tr>
                    <tr>
                        <td class="label">Edges:</td>
                        <td class="value">${cycle.paths.length}</td>
                    </tr>
                    <tr>
                        <td class="label">Color:</td>
                        <td class="value"><span class="color-indicator" style="background: ${cycle.color}"></span></td>
                    </tr>
                </table>
            `;
        }
        
        // Event listeners
        selector.addEventListener('change', (e) => {
            displayCycle(parseInt(e.target.value));
        });
        
        document.getElementById('prevBtn').addEventListener('click', () => {
            if (currentIndex > 0) {
                displayCycle(currentIndex - 1);
            }
        });
        
        document.getElementById('nextBtn').addEventListener('click', () => {
            if (currentIndex < cycles.length - 1) {
                displayCycle(currentIndex + 1);
            }
        });
        
        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft' && currentIndex > 0) {
                displayCycle(currentIndex - 1);
            } else if (e.key === 'ArrowRight' && currentIndex < cycles.length - 1) {
                displayCycle(currentIndex + 1);
            }
        });
        
        // Display first cycle
        displayCycle(0);
    </script>
</body>
</html>
