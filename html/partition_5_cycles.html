
<!DOCTYPE html>
<html>
<head>
    <title>Partition 5 - Cycle Viewer</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
        }
        .control-panel {
            position: absolute;
            top: 10px;
            right: 10px;
            background: white;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            z-index: 1000;
            width: 320px;
        }
        .control-panel h3 {
            margin: 0 0 15px 0;
            font-size: 16px;
        }
        .cycle-selector {
            width: 100%;
            padding: 8px;
            font-size: 14px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
        .nav-buttons {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
        }
        .nav-button {
            flex: 1;
            padding: 8px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 14px;
        }
        .nav-button:hover {
            background: #0056b3;
        }
        .nav-button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        .stats-box {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 3px;
            font-size: 13px;
        }
        .stats-box table {
            width: 100%;
            border-collapse: collapse;
        }
        .stats-box td {
            padding: 4px 0;
        }
        .stats-box .label {
            font-weight: bold;
        }
        .stats-box .value {
            text-align: right;
        }
        .color-indicator {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 3px;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div class="control-panel">
        <h3>Partition 5 - Cycle Viewer</h3>
        
        <select id="cycleSelector" class="cycle-selector">
            <!-- Options filled by JS -->
        </select>
        
        <div class="nav-buttons">
            <button id="prevBtn" class="nav-button">← Previous</button>
            <button id="nextBtn" class="nav-button">Next →</button>
        </div>
        
        <div id="statsBox" class="stats-box">
            <!-- Stats filled by JS -->
        </div>
    </div>

    <script>
        // Cycle data
        const cycles = [{"id": "cycle_0", "rank": 1, "method": "greedy", "benefit": 55675.99394280308, "time": 0.0869803958262624, "color": "#00ff00", "paths": [{"coords": [[42.456237619968554, -76.48604092331627], [42.45627998376455, -76.48624444162719], [42.45631009455565, -76.48635996686816], [42.45631422752944, -76.48637987877555]], "name": "WYCKOFF AVE", "priority": 0.5605}, {"coords": [[42.456237619968554, -76.48604092331627], [42.45627998376455, -76.48624444162719], [42.45631009455565, -76.48635996686816], [42.45631422752944, -76.48637987877555]], "name": "WYCKOFF AVE", "priority": 0.5605}]}, {"id": "cycle_1", "rank": 2, "method": "greedy", "benefit": 55675.99394280308, "time": 0.0869803958262624, "color": "#38ff00", "paths": [{"coords": [[42.456237619968554, -76.48604092331627], [42.45627998376455, -76.48624444162719], [42.45631009455565, -76.48635996686816], [42.45631422752944, -76.48637987877555]], "name": "WYCKOFF AVE", "priority": 0.5605}, {"coords": [[42.456237619968554, -76.48604092331627], [42.45627998376455, -76.48624444162719], [42.45631009455565, -76.48635996686816], [42.45631422752944, -76.48637987877555]], "name": "WYCKOFF AVE", "priority": 0.5605}]}, {"id": "cycle_2", "rank": 3, "method": "greedy", "benefit": 19370.50452593933, "time": 1.5142989270083664, "color": "#71ff00", "paths": [{"coords": [[42.442593150907015, -76.48507258959687], [42.44253433872005, -76.48508981672614], [42.4425069261959, -76.48512297160815], [42.442488272004525, -76.48516908119616], [42.442461059052285, -76.48523557990433], [42.442453560152245, -76.48529093430746]], "name": "OAK AVE WB LANE", "priority": 0.5445}, {"coords": [[42.442074164888595, -76.48202836433538], [42.442074267792584, -76.48202867047924], [42.44210023403399, -76.48210712660206], [42.44212189635771, -76.48216567470907], [42.44214388658719, -76.48220917302878], [42.442192168313724, -76.48230912754958], [42.44223167763724, -76.48238061429771], [42.44227135744685, -76.48245048179193], [42.442311031424765, -76.48251479081527], [42.442346411255365, -76.48257123266336], [42.442377159841406, -76.48262652603174], [42.442403612786926, -76.48267325812377], [42.442425273515184, -76.48273134481266], [42.442455867329684, -76.48280632030492], [42.44247753935374, -76.48287737304523], [42.44250350165602, -76.48295096793693], [42.44252071120266, -76.48301832298515], [42.44254648198488, -76.48309435784662], [42.442546675145856, -76.48309492761925], [42.44256817998317, -76.48317061318976], [42.44258968730666, -76.48325023467605], [42.44260259493997, -76.48330092460473], [42.44261963383177, -76.4833689754064], [42.442623290512586, -76.48343264851836], [42.44262727847038, -76.48348288955954], [42.4426263071988, -76.48354819154017], [42.44262088369811, -76.48362252949842], [42.442619919094085, -76.48369662942935], [42.44261928196638, -76.48375289951957], [42.44261847285533, -76.48380916988098], [42.442617835471005, -76.48386520780396], [42.44261702630372, -76.48392147694717], [42.44261638996599, -76.48397774703129], [42.442615580342334, -76.48403355305749], [42.4426146204839, -76.48411344251338], [42.442613488413194, -76.48419310007304], [42.44260806999754, -76.48427276438203], [42.44260693821707, -76.48435288626055], [42.442605978135035, -76.4844327744855], [42.44260484624169, -76.48451289514313], [42.44260388934294, -76.48459556326283], [42.44260275972721, -76.48467846260073], [42.44259717160746, -76.48476113797466], [42.442596041872015, -76.48484403730096], [42.44259508383304, -76.48492670419033], [42.442593150907015, -76.48507258959687]], "name": "OAK AVE", "priority": 0.5605}, {"coords": [[42.44166432250923, -76.48064308583922], [42.44166433567194, -76.48064370937252], [42.44167262185756, -76.48070389988544], [42.44168966809265, -76.48077843247926], [42.44170686525327, -76.48083050472356], [42.441810589514645, -76.48117303634959], [42.44182795734457, -76.48122487636259], [42.441845156569364, -76.4812794953336], [42.44186252710623, -76.48133342000021], [42.44188403035387, -76.48140701954664], [42.441905705304784, -76.48148038791827], [42.441927208947156, -76.48155352445492], [42.44194887311933, -76.48161485086767], [42.4419705487584, -76.48168914560584], [42.441983287590496, -76.48174261486524], [42.44201372535063, -76.48183379847053], [42.44203953173229, -76.48192475868494], [42.442074164888595, -76.48202836433538]], "name": "OAK AVE", "priority": 0.5605}, {"coords": [[42.44166432250923, -76.48064308583922], [42.44166433567194, -76.48064370937252], [42.44167262185756, -76.48070389988544], [42.44168966809265, -76.48077843247926], [42.44170686525327, -76.48083050472356], [42.441810589514645, -76.48117303634959], [42.44182795734457, -76.48122487636259], [42.441845156569364, -76.4812794953336], [42.44186252710623, -76.48133342000021], [42.44188403035387, -76.48140701954664], [42.441905705304784, -76.48148038791827], [42.441927208947156, -76.48155352445492], [42.44194887311933, -76.48161485086767], [42.4419705487584, -76.48168914560584], [42.441983287590496, -76.48174261486524], [42.44201372535063, -76.48183379847053], [42.44203953173229, -76.48192475868494], [42.442074164888595, -76.48202836433538]], "name": "OAK AVE", "priority": 0.5605}, {"coords": [[42.442074164888595, -76.48202836433538], [42.442074267792584, -76.48202867047924], [42.44210023403399, -76.48210712660206], [42.44212189635771, -76.48216567470907], [42.44214388658719, -76.48220917302878], [42.442192168313724, -76.48230912754958], [42.44223167763724, -76.48238061429771], [42.44227135744685, -76.48245048179193], [42.442311031424765, -76.48251479081527], [42.442346411255365, -76.48257123266336], [42.442377159841406, -76.48262652603174], [42.442403612786926, -76.48267325812377], [42.442425273515184, -76.48273134481266], [42.442455867329684, -76.48280632030492], [42.44247753935374, -76.48287737304523], [42.44250350165602, -76.48295096793693], [42.44252071120266, -76.48301832298515], [42.44254648198488, -76.48309435784662], [42.442546675145856, -76.48309492761925], [42.44256817998317, -76.48317061318976], [42.44258968730666, -76.48325023467605], [42.44260259493997, -76.48330092460473], [42.44261963383177, -76.4833689754064], [42.442623290512586, -76.48343264851836], [42.44262727847038, -76.48348288955954], [42.4426263071988, -76.48354819154017], [42.44262088369811, -76.48362252949842], [42.442619919094085, -76.48369662942935], [42.44261928196638, -76.48375289951957], [42.44261847285533, -76.48380916988098], [42.442617835471005, -76.48386520780396], [42.44261702630372, -76.48392147694717], [42.44261638996599, -76.48397774703129], [42.442615580342334, -76.48403355305749], [42.4426146204839, -76.48411344251338], [42.442613488413194, -76.48419310007304], [42.44260806999754, -76.48427276438203], [42.44260693821707, -76.48435288626055], [42.442605978135035, -76.4844327744855], [42.44260484624169, -76.48451289514313], [42.44260388934294, -76.48459556326283], [42.44260275972721, -76.48467846260073], [42.44259717160746, -76.48476113797466], [42.442596041872015, -76.48484403730096], [42.44259508383304, -76.48492670419033], [42.442593150907015, -76.48507258959687]], "name": "OAK AVE", "priority": 0.5605}, {"coords": [[42.442593150907015, -76.48507258959687], [42.44263346748016, -76.48508688316836], [42.44266883811092, -76.4851340656755], [42.44269512620655, -76.48519029255785]], "name": "OAK AVE EB LANE", "priority": 0.5445}, {"coords": [[42.44271679120701, -76.48525486399676], [42.44276205243897, -76.4852358056461], [42.44281795643761, -76.485226688274]], "name": "COLLEGE AVE", "priority": 0.5924999999999999}, {"coords": [[42.44281795643761, -76.485226688274], [42.44290644103936, -76.48521219359658], [42.44295600808441, -76.48521489374376], [42.44313423732863, -76.48525490820025], [42.443153621674405, -76.48525927698891], [42.44319393454703, -76.48527032897793], [42.443261350955176, -76.48528689615604], [42.44332859560293, -76.48530369580529], [42.443391379517365, -76.4853186487447]], "name": "COLLEGE AVE", "priority": 0.5924999999999999}, {"coords": [[42.44281795643761, -76.485226688274], [42.44290644103936, -76.48521219359658], [42.44295600808441, -76.48521489374376], [42.44313423732863, -76.48525490820025], [42.443153621674405, -76.48525927698891], [42.44319393454703, -76.48527032897793], [42.443261350955176, -76.48528689615604], [42.44332859560293, -76.48530369580529], [42.443391379517365, -76.4853186487447]], "name": "COLLEGE AVE", "priority": 0.5924999999999999}, {"coords": [[42.44271679120701, -76.48525486399676], [42.44276205243897, -76.4852358056461], [42.44281795643761, -76.485226688274]], "name": "COLLEGE AVE", "priority": 0.5924999999999999}, {"coords": [[42.442593150907015, -76.48507258959687], [42.44263346748016, -76.48508688316836], [42.44266883811092, -76.4851340656755], [42.44269512620655, -76.48519029255785]], "name": "OAK AVE EB LANE", "priority": 0.5445}, {"coords": [[42.442593150907015, -76.48507258959687], [42.44253433872005, -76.48508981672614], [42.4425069261959, -76.48512297160815], [42.442488272004525, -76.48516908119616], [42.442461059052285, -76.48523557990433], [42.442453560152245, -76.48529093430746]], "name": "OAK AVE WB LANE", "priority": 0.5445}]}, {"id": "cycle_3", "rank": 4, "method": "greedy", "benefit": 18598.660669359004, "time": 0.5356256054459544, "color": "#aaff00", "paths": [{"coords": [[42.443566528703315, -76.4839716145866], [42.443411402354066, -76.4844687895791], [42.44339705657576, -76.48453920648511], [42.443382223503505, -76.48464181161506], [42.44338158292332, -76.48469460837113], [42.443380775843124, -76.48475273066636], [42.44337996783425, -76.48481085417711], [42.44337470135164, -76.48486875249964], [42.443374066033726, -76.48492780075868], [42.443372771877215, -76.48501857562827], [42.44337196849592, -76.4850822553521], [42.443371167170625, -76.48514732564823], [42.44337020415785, -76.4852244361135], [42.443391379517365, -76.4853186487447]], "name": "HOLLISTER DR", "priority": 0.5605}, {"coords": [[42.44281795643761, -76.485226688274], [42.44290644103936, -76.48521219359658], [42.44295600808441, -76.48521489374376], [42.44313423732863, -76.48525490820025], [42.443153621674405, -76.48525927698891], [42.44319393454703, -76.48527032897793], [42.443261350955176, -76.48528689615604], [42.44332859560293, -76.48530369580529], [42.443391379517365, -76.4853186487447]], "name": "COLLEGE AVE", "priority": 0.5924999999999999}, {"coords": [[42.44281795643761, -76.485226688274], [42.44290644103936, -76.48521219359658], [42.44295600808441, -76.48521489374376], [42.44313423732863, -76.48525490820025], [42.443153621674405, -76.48525927698891], [42.44319393454703, -76.48527032897793], [42.443261350955176, -76.48528689615604], [42.44332859560293, -76.48530369580529], [42.443391379517365, -76.4853186487447]], "name": "COLLEGE AVE", "priority": 0.5924999999999999}, {"coords": [[42.443566528703315, -76.4839716145866], [42.443411402354066, -76.4844687895791], [42.44339705657576, -76.48453920648511], [42.443382223503505, -76.48464181161506], [42.44338158292332, -76.48469460837113], [42.443380775843124, -76.48475273066636], [42.44337996783425, -76.48481085417711], [42.44337470135164, -76.48486875249964], [42.443374066033726, -76.48492780075868], [42.443372771877215, -76.48501857562827], [42.44337196849592, -76.4850822553521], [42.443371167170625, -76.48514732564823], [42.44337020415785, -76.4852244361135], [42.443391379517365, -76.4853186487447]], "name": "HOLLISTER DR", "priority": 0.5605}]}, {"id": "cycle_4", "rank": 5, "method": "greedy", "benefit": 17906.652257529637, "time": 0.5876876958276229, "color": "#e2ff00", "paths": [{"coords": [[42.44312367058691, -76.48963974126553], [42.44338106025518, -76.48958957168955], [42.443557302959356, -76.4895571007064]], "name": "STEWART AVE", "priority": 0.6249999999999999}, {"coords": [[42.44312367058691, -76.48963974126553], [42.44338106025518, -76.48958957168955], [42.443557302959356, -76.4895571007064]], "name": "STEWART AVE", "priority": 0.6249999999999999}, {"coords": [[42.443557302959356, -76.4895571007064], [42.44391813502743, -76.48948896707189], [42.443963235381005, -76.48948148976578], [42.444030968831186, -76.48946819020601], [42.44408961558708, -76.4894581448488], [42.44414380561483, -76.48944995984738], [42.444193535215746, -76.48944131714975], [42.4442475521951, -76.48943290020726], [42.44428819453549, -76.4894268188609], [42.44434238422741, -76.48941932789062], [42.44440103287404, -76.48941159929095], [42.44445968151854, -76.48940386946119], [42.444540796134504, -76.48939402258154], [42.44458589728502, -76.48938862982178], [42.444630999334294, -76.48938323583727], [42.444676101573165, -76.48937807401765], [42.444730122529634, -76.48937452042819], [42.44477969131401, -76.48937838236473], [42.444829094025835, -76.48938942369811], [42.44488279051777, -76.4894074056097]], "name": "STEWART AVE", "priority": 0.593}, {"coords": [[42.443557302959356, -76.4895571007064], [42.44391813502743, -76.48948896707189], [42.443963235381005, -76.48948148976578], [42.444030968831186, -76.48946819020601], [42.44408961558708, -76.4894581448488], [42.44414380561483, -76.48944995984738], [42.444193535215746, -76.48944131714975], [42.4442475521951, -76.48943290020726], [42.44428819453549, -76.4894268188609], [42.44434238422741, -76.48941932789062], [42.44440103287404, -76.48941159929095], [42.44445968151854, -76.48940386946119], [42.444540796134504, -76.48939402258154], [42.44458589728502, -76.48938862982178], [42.444630999334294, -76.48938323583727], [42.444676101573165, -76.48937807401765], [42.444730122529634, -76.48937452042819], [42.44477969131401, -76.48937838236473], [42.444829094025835, -76.48938942369811], [42.44488279051777, -76.4894074056097]], "name": "STEWART AVE", "priority": 0.593}]}, {"id": "cycle_5", "rank": 6, "method": "greedy", "benefit": 14979.829214189474, "time": 0.9759037053312154, "color": "#ffe200", "paths": [{"coords": [[42.45514957986029, -76.48081959482312], [42.45524149026425, -76.48084038411477], [42.455394483168234, -76.48090499729598], [42.455963076760206, -76.48115559554873], [42.45620945332746, -76.481261966728], [42.456263155725445, -76.48128527129461], [42.45631201763504, -76.48130495827318]], "name": "TRIPHAMMER RD", "priority": 0.603}, {"coords": [[42.45514957986029, -76.48081959482312], [42.45524149026425, -76.48084038411477], [42.455394483168234, -76.48090499729598], [42.455963076760206, -76.48115559554873], [42.45620945332746, -76.481261966728], [42.456263155725445, -76.48128527129461], [42.45631201763504, -76.48130495827318]], "name": "TRIPHAMMER RD", "priority": 0.603}, {"coords": [[42.45631239499272, -76.48130511085014], [42.456287677146825, -76.48147376148829], [42.456217186658584, -76.48205243269967], [42.456211920079376, -76.48210964764827], [42.45620219585199, -76.48216756640826], [42.4561924702853, -76.48222502072173], [42.456182745793775, -76.48228270601524], [42.45617302016938, -76.48234016029323], [42.45615867064879, -76.48240480241527], [42.45614432047976, -76.48246874907898], [42.456129969867625, -76.48253223249971], [42.456115615963526, -76.48259201018124], [42.45609697374548, -76.48265156370526], [42.45608261937233, -76.48271087811476], [42.456059347802594, -76.48277043897892], [42.45604053191047, -76.48282813860308], [42.4560214361661, -76.48293227186615]], "name": "DEARBORN PL", "priority": 0.5605}, {"coords": [[42.45631239499272, -76.48130511085014], [42.456287677146825, -76.48147376148829], [42.456217186658584, -76.48205243269967], [42.456211920079376, -76.48210964764827], [42.45620219585199, -76.48216756640826], [42.4561924702853, -76.48222502072173], [42.456182745793775, -76.48228270601524], [42.45617302016938, -76.48234016029323], [42.45615867064879, -76.48240480241527], [42.45614432047976, -76.48246874907898], [42.456129969867625, -76.48253223249971], [42.456115615963526, -76.48259201018124], [42.45609697374548, -76.48265156370526], [42.45608261937233, -76.48271087811476], [42.456059347802594, -76.48277043897892], [42.45604053191047, -76.48282813860308], [42.4560214361661, -76.48293227186615]], "name": "DEARBORN PL", "priority": 0.5605}, {"coords": [[42.45645481979738, -76.4806815756846], [42.45634635804201, -76.48111768418613], [42.45631239499272, -76.48130511085014]], "name": "JESSUP RD", "priority": 0.5285}, {"coords": [[42.45645481979738, -76.4806815756846], [42.45634635804201, -76.48111768418613], [42.45631239499272, -76.48130511085014]], "name": "JESSUP RD", "priority": 0.5285}]}, {"id": "cycle_6", "rank": 7, "method": "greedy", "benefit": 13587.666489132429, "time": 0.3665794890231684, "color": "#ffaa00", "paths": [{"coords": [[42.447271478536564, -76.48503539511582], [42.44728346412677, -76.48511836763738], [42.44730548270579, -76.48517737812068], [42.44733649507848, -76.48523732765621], [42.4473884844539, -76.48535334527405], [42.44739953086075, -76.48539738203314], [42.44740648585252, -76.4854514114756], [42.447413535198464, -76.48560236440845], [42.44742347509852, -76.48566230566045], [42.44744849096993, -76.48571238795844], [42.44748048663092, -76.48574536664674], [42.44751150172069, -76.48576336802626], [42.44757949161269, -76.48578430734482], [42.44781849188564, -76.48579238877525], [42.44785348311174, -76.48578129903588], [42.44788050291503, -76.4857604151935], [42.447944278298, -76.48563413890666]], "name": "HO PLZ", "priority": 0.5765}, {"coords": [[42.447271478536564, -76.48503539511582], [42.44728346412677, -76.48511836763738], [42.44730548270579, -76.48517737812068], [42.44733649507848, -76.48523732765621], [42.4473884844539, -76.48535334527405], [42.44739953086075, -76.48539738203314], [42.44740648585252, -76.4854514114756], [42.447413535198464, -76.48560236440845], [42.44742347509852, -76.48566230566045], [42.44744849096993, -76.48571238795844], [42.44748048663092, -76.48574536664674], [42.44751150172069, -76.48576336802626], [42.44757949161269, -76.48578430734482], [42.44781849188564, -76.48579238877525], [42.44785348311174, -76.48578129903588], [42.44788050291503, -76.4857604151935], [42.447944278298, -76.48563413890666]], "name": "HO PLZ", "priority": 0.5765}]}, {"id": "cycle_7", "rank": 8, "method": "greedy", "benefit": 12996.683146661506, "time": 2.2037555680650853, "color": "#ff7100", "paths": [{"coords": [[42.45509523314212, -76.48385773967422], [42.455081480485255, -76.48421651572436], [42.455058291781185, -76.48497227575336], [42.455034481817485, -76.48537602966796], [42.45503446406316, -76.48537632391078], [42.45503051255951, -76.48566737568417], [42.455049489338634, -76.4857873689808], [42.45507153388853, -76.48585830144775]], "name": "HEIGHTS CT", "priority": 0.5765}, {"coords": [[42.45509523314212, -76.48385773967422], [42.455081480485255, -76.48421651572436], [42.455058291781185, -76.48497227575336], [42.455034481817485, -76.48537602966796], [42.45503446406316, -76.48537632391078], [42.45503051255951, -76.48566737568417], [42.455049489338634, -76.4857873689808], [42.45507153388853, -76.48585830144775]], "name": "HEIGHTS CT", "priority": 0.5765}, {"coords": [[42.45509612643015, -76.48385796925612], [42.455144465745796, -76.4838704005681], [42.45519387713362, -76.483890934513], [42.4552384930974, -76.48391819319868], [42.45528311337503, -76.483951473624], [42.45534541709703, -76.48400649695843], [42.45554094001861, -76.48421185453299], [42.455722421120534, -76.48444271090052], [42.45578871199845, -76.48454682931103], [42.45588112310387, -76.48470973616229], [42.45595536327084, -76.48488401885764], [42.45602052188287, -76.48506874029657], [42.456062379427614, -76.48520678194338], [42.456063563951744, -76.48521068641111], [42.4560636063861, -76.4852108273759], [42.456063692156114, -76.48521111051984], [42.45606371201868, -76.48521117614123], [42.45611116487368, -76.48537154080948], [42.45617917725691, -76.4856848003008], [42.456237619968554, -76.48604092331627]], "name": "WYCKOFF AVE", "priority": 0.5445}, {"coords": [[42.456237619968554, -76.48604092331627], [42.45627998376455, -76.48624444162719], [42.45631009455565, -76.48635996686816], [42.45631422752944, -76.48637987877555]], "name": "WYCKOFF AVE", "priority": 0.5605}, {"coords": [[42.456237619968554, -76.48604092331627], [42.45627998376455, -76.48624444162719], [42.45631009455565, -76.48635996686816], [42.45631422752944, -76.48637987877555]], "name": "WYCKOFF AVE", "priority": 0.5605}, {"coords": [[42.45509612643015, -76.48385796925612], [42.455144465745796, -76.4838704005681], [42.45519387713362, -76.483890934513], [42.4552384930974, -76.48391819319868], [42.45528311337503, -76.483951473624], [42.45534541709703, -76.48400649695843], [42.45554094001861, -76.48421185453299], [42.455722421120534, -76.48444271090052], [42.45578871199845, -76.48454682931103], [42.45588112310387, -76.48470973616229], [42.45595536327084, -76.48488401885764], [42.45602052188287, -76.48506874029657], [42.456062379427614, -76.48520678194338], [42.456063563951744, -76.48521068641111], [42.4560636063861, -76.4852108273759], [42.456063692156114, -76.48521111051984], [42.45606371201868, -76.48521117614123], [42.45611116487368, -76.48537154080948], [42.45617917725691, -76.4856848003008], [42.456237619968554, -76.48604092331627]], "name": "WYCKOFF AVE", "priority": 0.5445}, {"coords": [[42.45457320533206, -76.48379830929008], [42.45457363210433, -76.4837983487342], [42.45462749058228, -76.48380498050815], [42.455041202515766, -76.48385087708363], [42.45509523314212, -76.48385773967422], [42.45509612643015, -76.48385796925612]], "name": "WYCKOFF AVE", "priority": 0.5285}, {"coords": [[42.45364310286088, -76.48367105363181], [42.45371019056481, -76.48370499161699], [42.454096807188606, -76.48375371021399], [42.45457320533206, -76.48379830929008]], "name": "WYCKOFF AVE", "priority": 0.5605}, {"coords": [[42.45364310286088, -76.48367105363181], [42.45371019056481, -76.48370499161699], [42.454096807188606, -76.48375371021399], [42.45457320533206, -76.48379830929008]], "name": "WYCKOFF AVE", "priority": 0.5605}, {"coords": [[42.4545740120793, -76.48379737188039], [42.45457363210433, -76.4837983487342], [42.454517834343754, -76.4839285970367], [42.45449472475719, -76.48397842845803], [42.45446698456065, -76.48402988775828], [42.454443875731904, -76.48408064550512], [42.45441630483836, -76.48412909303117], [42.454393023007796, -76.48417869236118], [42.45436099363762, -76.48422691705731], [42.454333249224895, -76.48427258552098], [42.45430121171133, -76.48431247130134], [42.4542282230676, -76.48439665778301], [42.454168931809285, -76.48445418791546], [42.45413243150001, -76.48448991171766], [42.4541003905152, -76.48452585946079], [42.45406834962196, -76.4845608819841], [42.454023658111204, -76.48459832787161], [42.45402293299994, -76.4845989356676], [42.45374001978393, -76.48488123598118], [42.45369906567527, -76.48492229363342], [42.45358526536342, -76.48501580513752]], "name": "WAIT AVE", "priority": 0.5445}, {"coords": [[42.4545740120793, -76.48379737188039], [42.45457363210433, -76.4837983487342], [42.454517834343754, -76.4839285970367], [42.45449472475719, -76.48397842845803], [42.45446698456065, -76.48402988775828], [42.454443875731904, -76.48408064550512], [42.45441630483836, -76.48412909303117], [42.454393023007796, -76.48417869236118], [42.45436099363762, -76.48422691705731], [42.454333249224895, -76.48427258552098], [42.45430121171133, -76.48431247130134], [42.4542282230676, -76.48439665778301], [42.454168931809285, -76.48445418791546], [42.45413243150001, -76.48448991171766], [42.4541003905152, -76.48452585946079], [42.45406834962196, -76.4845608819841], [42.454023658111204, -76.48459832787161], [42.45402293299994, -76.4845989356676], [42.45374001978393, -76.48488123598118], [42.45369906567527, -76.48492229363342], [42.45358526536342, -76.48501580513752]], "name": "WAIT AVE", "priority": 0.5445}, {"coords": [[42.45457320533206, -76.48379830929008], [42.45457363210433, -76.4837983487342], [42.45462749058228, -76.48380498050815], [42.455041202515766, -76.48385087708363], [42.45509523314212, -76.48385773967422], [42.45509612643015, -76.48385796925612]], "name": "WYCKOFF AVE", "priority": 0.5285}]}, {"id": "cycle_8", "rank": 9, "method": "greedy", "benefit": 11998.8992674178, "time": 2.4903389774245155, "color": "#ff3800", "paths": [{"coords": [[42.45554353018966, -76.47856041347933], [42.4554754866254, -76.47859930885875], [42.45543046770385, -76.47867535264129], [42.45536750937392, -76.47889934299401], [42.455211485579184, -76.47966329930998], [42.45518245100637, -76.47988930737901], [42.455148464174, -76.48081934254736]], "name": "SISSON PL", "priority": 0.5445}, {"coords": [[42.45514957986029, -76.48081959482312], [42.45524149026425, -76.48084038411477], [42.455394483168234, -76.48090499729598], [42.455963076760206, -76.48115559554873], [42.45620945332746, -76.481261966728], [42.456263155725445, -76.48128527129461], [42.45631201763504, -76.48130495827318]], "name": "TRIPHAMMER RD", "priority": 0.603}, {"coords": [[42.45514957986029, -76.48081959482312], [42.45524149026425, -76.48084038411477], [42.455394483168234, -76.48090499729598], [42.455963076760206, -76.48115559554873], [42.45620945332746, -76.481261966728], [42.456263155725445, -76.48128527129461], [42.45631201763504, -76.48130495827318]], "name": "TRIPHAMMER RD", "priority": 0.603}, {"coords": [[42.454529502649144, -76.48148834142077], [42.45470449170241, -76.4813763248164], [42.45477553758393, -76.481265386976], [42.45490448958484, -76.48098737950347], [42.454980477644646, -76.48087740299404], [42.45504947622367, -76.48083439832823], [42.455148464174, -76.48081934254736], [42.45514957986029, -76.48081959482312]], "name": "TRIPHAMMER RD", "priority": 0.603}, {"coords": [[42.4531356144203, -76.48113680095538], [42.45317753863122, -76.4810301984576], [42.45323284511798, -76.48092913111854], [42.453283048318816, -76.48087601428008], [42.45332863145007, -76.48083425253346], [42.453374219952096, -76.48079851224242], [42.45342410294773, -76.48076994380045], [42.45347827975087, -76.48074878064104], [42.45353263534528, -76.48073525926937], [42.45357310540264, -76.48072940266172], [42.45363175833421, -76.48072722315051], [42.45369470577259, -76.4807322155642], [42.45373948829818, -76.48075460691221], [42.45381533547411, -76.48080126608531], [42.454159074955186, -76.48103925340533], [42.45424368444072, -76.48110396502005], [42.454319214880634, -76.48118027037907], [42.45437260751849, -76.48124086301718], [42.45440351434508, -76.48128111137737], [42.45445227769278, -76.48134379671126], [42.454491957443864, -76.48141298049053], [42.454529502649144, -76.48148834142077]], "name": "WAIT AVE", "priority": 0.619}, {"coords": [[42.4531356144203, -76.48113680095538], [42.45317753863122, -76.4810301984576], [42.45323284511798, -76.48092913111854], [42.453283048318816, -76.48087601428008], [42.45332863145007, -76.48083425253346], [42.453374219952096, -76.48079851224242], [42.45342410294773, -76.48076994380045], [42.45347827975087, -76.48074878064104], [42.45353263534528, -76.48073525926937], [42.45357310540264, -76.48072940266172], [42.45363175833421, -76.48072722315051], [42.45369470577259, -76.4807322155642], [42.45373948829818, -76.48075460691221], [42.45381533547411, -76.48080126608531], [42.454159074955186, -76.48103925340533], [42.45424368444072, -76.48110396502005], [42.454319214880634, -76.48118027037907], [42.45437260751849, -76.48124086301718], [42.45440351434508, -76.48128111137737], [42.45445227769278, -76.48134379671126], [42.454491957443864, -76.48141298049053], [42.454529502649144, -76.48148834142077]], "name": "WAIT AVE", "priority": 0.619}, {"coords": [[42.454529502649144, -76.48148834142077], [42.45470449170241, -76.4813763248164], [42.45477553758393, -76.481265386976], [42.45490448958484, -76.48098737950347], [42.454980477644646, -76.48087740299404], [42.45504947622367, -76.48083439832823], [42.455148464174, -76.48081934254736], [42.45514957986029, -76.48081959482312]], "name": "TRIPHAMMER RD", "priority": 0.603}, {"coords": [[42.45554353018966, -76.47856041347933], [42.4554754866254, -76.47859930885875], [42.45543046770385, -76.47867535264129], [42.45536750937392, -76.47889934299401], [42.455211485579184, -76.47966329930998], [42.45518245100637, -76.47988930737901], [42.455148464174, -76.48081934254736]], "name": "SISSON PL", "priority": 0.5445}, {"coords": [[42.45554353018966, -76.47856041347933], [42.45559626141237, -76.47853510917594], [42.45599420248344, -76.47840011376513], [42.45615245257701, -76.4783456534534], [42.45631055084494, -76.47831319526604], [42.45647278666083, -76.47830412428436], [42.45650417403908, -76.47830569248846]], "name": "NORTHCROSS RD", "priority": 0.5445}, {"coords": [[42.45554353018966, -76.47856041347933], [42.45559626141237, -76.47853510917594], [42.45599420248344, -76.47840011376513], [42.45615245257701, -76.4783456534534], [42.45631055084494, -76.47831319526604], [42.45647278666083, -76.47830412428436], [42.45650417403908, -76.47830569248846]], "name": "NORTHCROSS RD", "priority": 0.5445}, {"coords": [[42.455328518244, -76.4772303637527], [42.455390536003314, -76.4775053310985], [42.45542351617468, -76.47769935541612], [42.455480517275376, -76.47822339421629], [42.45554353018966, -76.47856041347933]], "name": "RPCC LOADING DOCK", "priority": 0.5445}, {"coords": [[42.455328518244, -76.4772303637527], [42.455390536003314, -76.4775053310985], [42.45542351617468, -76.47769935541612], [42.455480517275376, -76.47822339421629], [42.45554353018966, -76.47856041347933]], "name": "RPCC LOADING DOCK", "priority": 0.5445}]}, {"id": "cycle_9", "rank": 10, "method": "greedy", "benefit": 11443.045163905337, "time": 1.2696054905792553, "color": "#ff0000", "paths": [{"coords": [[42.456237619968554, -76.48604092331627], [42.45627998376455, -76.48624444162719], [42.45631009455565, -76.48635996686816], [42.45631422752944, -76.48637987877555]], "name": "WYCKOFF AVE", "priority": 0.5605}, {"coords": [[42.456237619968554, -76.48604092331627], [42.45627998376455, -76.48624444162719], [42.45631009455565, -76.48635996686816], [42.45631422752944, -76.48637987877555]], "name": "WYCKOFF AVE", "priority": 0.5605}, {"coords": [[42.45509612643015, -76.48385796925612], [42.455144465745796, -76.4838704005681], [42.45519387713362, -76.483890934513], [42.4552384930974, -76.48391819319868], [42.45528311337503, -76.483951473624], [42.45534541709703, -76.48400649695843], [42.45554094001861, -76.48421185453299], [42.455722421120534, -76.48444271090052], [42.45578871199845, -76.48454682931103], [42.45588112310387, -76.48470973616229], [42.45595536327084, -76.48488401885764], [42.45602052188287, -76.48506874029657], [42.456062379427614, -76.48520678194338], [42.456063563951744, -76.48521068641111], [42.4560636063861, -76.4852108273759], [42.456063692156114, -76.48521111051984], [42.45606371201868, -76.48521117614123], [42.45611116487368, -76.48537154080948], [42.45617917725691, -76.4856848003008], [42.456237619968554, -76.48604092331627]], "name": "WYCKOFF AVE", "priority": 0.5445}, {"coords": [[42.45509523314212, -76.48385773967422], [42.455081480485255, -76.48421651572436], [42.455058291781185, -76.48497227575336], [42.455034481817485, -76.48537602966796], [42.45503446406316, -76.48537632391078], [42.45503051255951, -76.48566737568417], [42.455049489338634, -76.4857873689808], [42.45507153388853, -76.48585830144775]], "name": "HEIGHTS CT", "priority": 0.5765}, {"coords": [[42.45509523314212, -76.48385773967422], [42.455081480485255, -76.48421651572436], [42.455058291781185, -76.48497227575336], [42.455034481817485, -76.48537602966796], [42.45503446406316, -76.48537632391078], [42.45503051255951, -76.48566737568417], [42.455049489338634, -76.4857873689808], [42.45507153388853, -76.48585830144775]], "name": "HEIGHTS CT", "priority": 0.5765}, {"coords": [[42.45509612643015, -76.48385796925612], [42.455144465745796, -76.4838704005681], [42.45519387713362, -76.483890934513], [42.4552384930974, -76.48391819319868], [42.45528311337503, -76.483951473624], [42.45534541709703, -76.48400649695843], [42.45554094001861, -76.48421185453299], [42.455722421120534, -76.48444271090052], [42.45578871199845, -76.48454682931103], [42.45588112310387, -76.48470973616229], [42.45595536327084, -76.48488401885764], [42.45602052188287, -76.48506874029657], [42.456062379427614, -76.48520678194338], [42.456063563951744, -76.48521068641111], [42.4560636063861, -76.4852108273759], [42.456063692156114, -76.48521111051984], [42.45606371201868, -76.48521117614123], [42.45611116487368, -76.48537154080948], [42.45617917725691, -76.4856848003008], [42.456237619968554, -76.48604092331627]], "name": "WYCKOFF AVE", "priority": 0.5445}]}, {"id": "cycle_optimized", "rank": "OPT", "method": "optimized", "benefit": 55675.99394280308, "time": 0.0869803958262624, "color": "#0000ff", "paths": [{"coords": [[42.456237619968554, -76.48604092331627], [42.45627998376455, -76.48624444162719], [42.45631009455565, -76.48635996686816], [42.45631422752944, -76.48637987877555]], "name": "WYCKOFF AVE", "priority": 0.5605}, {"coords": [[42.456237619968554, -76.48604092331627], [42.45627998376455, -76.48624444162719], [42.45631009455565, -76.48635996686816], [42.45631422752944, -76.48637987877555]], "name": "WYCKOFF AVE", "priority": 0.5605}]}];
        
        // Initialize map
        const map = L.map('map').setView([42.45, -76.5], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);
        
        // Current cycle layer
        let currentLayer = null;
        let currentIndex = 0;
        
        // Populate selector
        const selector = document.getElementById('cycleSelector');
        cycles.forEach((cycle, idx) => {
            const option = document.createElement('option');
            option.value = idx;
            option.textContent = `Rank ${cycle.rank} - ${cycle.method} (b/m=${Math.round(cycle.benefit)})`;
            selector.appendChild(option);
        });
        
        // Display cycle
        function displayCycle(index) {
            currentIndex = index;
            const cycle = cycles[index];
            
            // Remove old layer
            if (currentLayer) {
                map.removeLayer(currentLayer);
            }
            
            // Create new layer group
            currentLayer = L.layerGroup();
            
            // Add paths
            cycle.paths.forEach(path => {
                const polyline = L.polyline(path.coords, {
                    color: cycle.color,
                    weight: 5,
                    opacity: 0.8
                });
                
                polyline.bindPopup(`
                    <b>${path.name}</b><br>
                    Priority: ${path.priority.toFixed(3)}
                `);
                
                currentLayer.addLayer(polyline);
            });
            
            currentLayer.addTo(map);
            
            // Fit bounds to cycle
            if (cycle.paths.length > 0) {
                const bounds = L.latLngBounds(
                    cycle.paths.flatMap(p => p.coords)
                );
                map.fitBounds(bounds, { padding: [50, 50] });
            }
            
            // Update stats
            updateStats(cycle);
            
            // Update selector
            selector.value = index;
            
            // Update buttons
            document.getElementById('prevBtn').disabled = (index === 0);
            document.getElementById('nextBtn').disabled = (index === cycles.length - 1);
        }
        
        // Update stats box
        function updateStats(cycle) {
            const statsBox = document.getElementById('statsBox');
            statsBox.innerHTML = `
                <table>
                    <tr>
                        <td class="label">Rank:</td>
                        <td class="value">${cycle.rank}</td>
                    </tr>
                    <tr>
                        <td class="label">Method:</td>
                        <td class="value">${cycle.method}</td>
                    </tr>
                    <tr>
                        <td class="label">Benefit/min:</td>
                        <td class="value">${Math.round(cycle.benefit)}</td>
                    </tr>
                    <tr>
                        <td class="label">Time:</td>
                        <td class="value">${cycle.time.toFixed(1)} min</td>
                    </tr>
                    <tr>
                        <td class="label">Edges:</td>
                        <td class="value">${cycle.paths.length}</td>
                    </tr>
                    <tr>
                        <td class="label">Color:</td>
                        <td class="value"><span class="color-indicator" style="background: ${cycle.color}"></span></td>
                    </tr>
                </table>
            `;
        }
        
        // Event listeners
        selector.addEventListener('change', (e) => {
            displayCycle(parseInt(e.target.value));
        });
        
        document.getElementById('prevBtn').addEventListener('click', () => {
            if (currentIndex > 0) {
                displayCycle(currentIndex - 1);
            }
        });
        
        document.getElementById('nextBtn').addEventListener('click', () => {
            if (currentIndex < cycles.length - 1) {
                displayCycle(currentIndex + 1);
            }
        });
        
        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft' && currentIndex > 0) {
                displayCycle(currentIndex - 1);
            } else if (e.key === 'ArrowRight' && currentIndex < cycles.length - 1) {
                displayCycle(currentIndex + 1);
            }
        });
        
        // Display first cycle
        displayCycle(0);
    </script>
</body>
</html>
